'use strict';import{AssertionError,AttributeError,BaseException,DeprecationWarning,Exception,IndexError,IterableError,KeyError,NotImplementedError,RuntimeWarning,StopIteration,UserWarning,ValueError,Warning,__JsIterator__,__PyIterator__,__Terminal__,__add__,__and__,__call__,__class__,__envir__,__eq__,__floordiv__,__ge__,__get__,__getcm__,__getitem__,__getslice__,__getsm__,__gt__,__i__,__iadd__,__iand__,__idiv__,__ijsmod__,__ilshift__,__imatmul__,__imod__,__imul__,__in__,__init__,__ior__,__ipow__,
__irshift__,__isub__,__ixor__,__jsUsePyNext__,__jsmod__,__k__,__kwargtrans__,__le__,__lshift__,__lt__,__matmul__,__mergefields__,__mergekwargtrans__,__mod__,__mul__,__ne__,__neg__,__nest__,__or__,__pow__,__pragma__,__pyUseJsNext__,__rshift__,__setitem__,__setproperty__,__setslice__,__sort__,__specialattrib__,__sub__,__super__,__t__,__terminal__,__truediv__,__withblock__,__xor__,_sort,abs,all,any,assert,bin,bool,bytearray,bytes,callable,chr,delattr,dict,dir,divmod,enumerate,filter,float,getattr,hex,
input,int,isinstance,issubclass,len,list,map,max,min,object,oct,ord,pow,print,property,py_TypeError,py_iter,py_metatype,py_next,py_reversed,py_typeof,range,repr,round,set,setattr,sorted,str,sum,tuple,zip}from"./org.transcrypt.__runtime__.js";import{choice as _choice,shuffle as _shuffle}from"./random.js";import{randint as _randint,random as _random}from"./random.js";import{cos as _cos,log as _log,pi as _pi,sin as _sin}from"./math.js";import{ceil as _ceil,floor as _floor,sqrt as _sqrt}from"./math.js";
var __name__="pyjsdl.pyjsarray";export var hasattr=function(obj,name){return typeof obj==="object"&&name in obj};export var Uint8ClampedArray=function(){var args=tuple([].slice.apply(arguments).slice(0));return new window.Uint8ClampedArray(...args)};export var Int8Array=function(){var args=tuple([].slice.apply(arguments).slice(0));return new window.Int8Array(...args)};export var Uint8Array=function(){var args=tuple([].slice.apply(arguments).slice(0));return new window.Uint8Array(...args)};export var Int16Array=
function(){var args=tuple([].slice.apply(arguments).slice(0));return new window.Int16Array(...args)};export var Uint16Array=function(){var args=tuple([].slice.apply(arguments).slice(0));return new window.Uint16Array(...args)};export var Int32Array=function(){var args=tuple([].slice.apply(arguments).slice(0));return new window.Int32Array(...args)};export var Uint32Array=function(){var args=tuple([].slice.apply(arguments).slice(0));return new window.Uint32Array(...args)};export var Float32Array=function(){var args=
tuple([].slice.apply(arguments).slice(0));return new window.Float32Array(...args)};export var Float64Array=function(){var args=tuple([].slice.apply(arguments).slice(0));return new window.Float64Array(...args)};export var Ndarray=__class__("Ndarray",[object],{__module__:__name__,_typedarray:dict({"uint8c":window.Uint8ClampedArray,"int8":window.Int8Array,"uint8":window.Uint8Array,"int16":window.Int16Array,"uint16":window.Uint16Array,"int32":window.Int32Array,"uint32":window.Uint32Array,"float32":window.Float32Array,
"float64":window.Float64Array}),_dtypes:dict({"uint8c":"uint8c","x":"uint8c",0:"uint8c","int8":"int8","b":"int8",4:"int8","uint8":"uint8","B":"uint8",1:"uint8","int16":"int16","h":"int16",5:"int16","uint16":"uint16","H":"uint16",2:"uint16","int32":"int32","i":"int32",6:"int32","uint32":"uint32","I":"uint32",3:"uint32","float32":"float32","f":"float32",7:"float32","float64":"float64","d":"float64",8:"float64"}),_opts:dict({"precision":4,"nanstr":"nan","infstr":"inf"}),get __init__(){return __get__(this,
function(self,dim,dtype){if(typeof dtype=="undefined"||dtype!=null&&dtype.hasOwnProperty("__kwargtrans__"))var dtype="float64";self._dtype=self._dtypes[dtype];var typedarray=self._typedarray[self._dtype];if(isinstance(dim,tuple)){var size=1;for(var i of dim)size*=i;self._data=new typedarray(size);self._shape=dim;var indices=[];for(var i of self._shape){size/=i;indices.append(size)}self._indices=tuple(indices)}else if(isinstance(dim,int)){self._data=new typedarray(dim);self._shape=tuple([dim]);self._indices=
tuple([self._shape[0]])}else if(isinstance(dim,list))if(!(len(dim)>0&&isinstance(dim[0],list))){self._data=new typedarray(dim);self._shape=tuple([len(dim)]);self._indices=tuple([self._shape[0]])}else{var _dat=self._lflatten(dim);var _dim=self._lshape(dim);self._data=new typedarray(list(_dat));self._shape=tuple([len(self._data)]);self.setshape(tuple(list(_dim)))}else{self._data=dim;self._shape=tuple([dim.length]);self._indices=tuple([self._shape[0]])}})},get getshape(){return __get__(this,function(self){return self._shape})},
get setshape(){return __get__(this,function(self){var dim=tuple([].slice.apply(arguments).slice(1));if(isinstance(dim[0],tuple))var dim=dim[0];var size=1;for(var i of dim)size*=i;var array_size=1;for(var i of self._shape)array_size*=i;if(size!=array_size){var __except0__=py_TypeError("array size cannot change");__except0__.__cause__=null;throw __except0__;}self._shape=dim;var indices=[];for(var i of self._shape){size/=i;indices.append(size)}self._indices=tuple(indices);return null})},get _get_shape(){return __get__(this,
function(self){return self._shape})},get _set_shape(){return __get__(this,function(self,val){self.setshape(val)})},get _lflatten(){return __get__(this,function*(self,l){for(var el of l)if(isinstance(el,list))yield*self._lflatten(el);else yield el})},get _lshape(){return __get__(this,function*(self,l){var _l=l;while(isinstance(_l,list)){yield len(_l);var _l=_l[0]}})},get __getitem__(){return __get__(this,function(self,index){if(hasattr(index,"__iter__"))if(!hasattr(index,"_dtype")){var __left0__=tuple([len(index),
len(self._shape)]);var indexLn=__left0__[0];var shapeLn=__left0__[1];if(indexLn==shapeLn)return self._data[sum(function(){var __accu0__=[];for(var i=0;i<indexLn;i++)__accu0__.append(index[i]*self._indices[i]);return __accu0__}())];else{var begin=sum(function(){var __accu0__=[];for(var i=0;i<indexLn;i++)__accu0__.append(index[i]*self._indices[i]);return __accu0__}());var end=begin+self._indices[indexLn-1];var subarray=self._data.subarray(begin,end);var array=Ndarray(subarray,self._dtype);array._shape=
self._shape.__getslice__(indexLn,null,1);array._indices=self._indices.__getslice__(indexLn,null,1);return array}}else{var true_value=sum(index._data);var array=Ndarray(true_value,self._dtype);var _i=0;for(var [i,val]of enumerate(index._data))if(val){array._data[_i]=self._data[i];_i++}return array}else if(len(self._shape)==1)return self._data[index];else{var begin=index*self._indices[0];var end=begin+self._indices[0];var subarray=self._data.subarray(begin,end);var array=Ndarray(subarray,self._dtype);
array._shape=self._shape.__getslice__(1,null,1);array._indices=self._indices.__getslice__(1,null,1);return array}})},get __setitem__(){return __get__(this,function(self,index,value){var unpack=function(obj,lst){if(typeof lst=="undefined"||lst!=null&&lst.hasOwnProperty("__kwargtrans__"))var lst=null;if(lst===null)var lst=[];for(var element of obj)if(isinstance(element,tuple([list,tuple])))unpack(element,lst);else lst.append(element);return lst};if(hasattr(index,"__iter__"))if(!hasattr(index,"_dtype")){var __left0__=
tuple([len(index),len(self._shape)]);var indexLn=__left0__[0];var shapeLn=__left0__[1];if(indexLn==shapeLn)self._data[sum(function(){var __accu0__=[];for(var i=0;i<indexLn;i++)__accu0__.append(index[i]*self._indices[i]);return __accu0__}())]=value;else{var begin=sum(function(){var __accu0__=[];for(var i=0;i<indexLn;i++)__accu0__.append(index[i]*self._indices[i]);return __accu0__}());var end=begin+self._indices[indexLn-1];var subarray=self._data.subarray(begin,end);if(isinstance(value,Ndarray))var value=
value._data;else if(isinstance(value[0],tuple([list,tuple])))var value=unpack(value);subarray.set(value)}}else if(!hasattr(value,"__iter__"))for(var [i,val]of enumerate(index._data)){if(val)self._data[i]=value}else{var _i=0;for(var [i,val]of enumerate(index._data))if(val){self._data[i]=value._data[_i];_i++}}else if(len(self._shape)==1)self._data[index]=value;else{var begin=index*self._indices[0];var end=begin+self._indices[0];var subarray=self._data.subarray(begin,end);if(isinstance(value,Ndarray))var value=
value._data;else if(isinstance(value[0],tuple([list,tuple])))var value=unpack(value);subarray.set(value)}return null})},get __getslice__(){return __get__(this,function(self,lower,upper){var subarray=self._data.subarray(lower,upper);return Ndarray(subarray,self._dtype)})},get __setslice__(){return __get__(this,function(self,lower,upper,data){var subarray=self._data.subarray(lower,upper);subarray.set(data);return null})},get __iter__(){return __get__(this,function*(self){if(len(self._shape)>1){var index=
0;while(index<self._shape[0]){var begin=index*self._indices[0];var end=begin+self._indices[0];var subarray=self._data.subarray(begin,end);var array=Ndarray(subarray,self._dtype);array._shape=self._shape.__getslice__(1,null,1);array._indices=self._indices.__getslice__(1,null,1);yield array;index++}}else{var index=0;while(index<self._shape[0]){yield self._data[index];index++}}})},[Symbol.iterator](){return this.__iter__()},get _array_dim(){return __get__(this,function(self){if(__in__("int",self._dtype)){var vmax=
len(str(max(self._data)));var vmin=len(str(min(self._data)));var vlen=vmax>vmin?vmax:vmin}else{var s=__add__("{}.",__mul__("0",__getitem__(Ndarray._opts,"precision")));var vlen=max(function(){var __accu0__=[];for(var v of self._data)if(Number.isFinite(v))__accu0__.append(len(s.format(int(round(v,Ndarray._opts["precision"])))));return py_iter(__accu0__)}())}return vlen})},get _array_str(){return __get__(this,function(self,array,vlen,vstr){if(len(array._shape)==1){var s=[];if(__in__("int",self._dtype))for(var val of array){var sv=
"{}".format(val);var sv=function(){var __accu0__="{}{}";return __call__(__accu0__.format,__accu0__,__mul__(__sub__(vlen,__call__(len,null,sv))," "),sv)}();s.append(sv)}else for(var val of array){if(Number.isFinite(val)){var sv="{}".format(round(val,Ndarray._opts["precision"]));if(!__in__(".",sv))sv+=".";var sv=__call__(__iadd__,null,sv,__mul__(__sub__(__getitem__(Ndarray._opts,"precision"),__call__(len,null,__getitem__(function(){var __accu0__=sv;return __call__(__accu0__.py_split,__accu0__,".")}(),
1))),"0"))}else if(Number.isNaN(val))var sv="{}".format(Ndarray._opts["nanstr"]);else if(val==Number.POSITIVE_INFINITY)var sv="{}".format(Ndarray._opts["infstr"]);else if(val==Number.NEGATIVE_INFINITY)var sv="-{}".format(Ndarray._opts["infstr"]);else var sv="{}".format(val);var sv=function(){var __accu0__="{}{}";return __call__(__accu0__.format,__accu0__,__mul__(__sub__(vlen,__call__(len,null,sv))," "),sv)}();s.append(sv)}vstr.append("[{}]".format(" ".join(s)))}else for(var [i,a]of enumerate(array)){if(i==
0)vstr.append("[");else(function(){var __accu0__=vstr;return __call__(__accu0__.append,__accu0__,__mul__(" ",__sub__(__call__(len,null,self._shape),__call__(len,null,a._shape))))})();self._array_str(a,vlen,vstr);if(i<len(array)-1)vstr.append("\n");else{if(__eq__(__getitem__(vstr,__neg__(1)),"]\n"))__setitem__(vstr,__neg__(1),"]");if(array._shape!=self._shape)vstr.append("]\n");else vstr.append("]")}}return vstr})},get __str__(){return __get__(this,function(self){var vlen=self._array_dim();var vstr=
self._array_str(self,vlen,[]);return"".join(vstr)})},get __repr__(){return __get__(this,function(self){var s=str(self.tolist());var sl=len(self._shape);for(var d=1;d<sl;d++)var s=function(){var __accu0__=s;return __call__(__accu0__.py_replace,__accu0__,__add__(" ",__mul__("[",d)),__add__(__add__("\n",__mul__(" ",__sub__(__add__(sl,6),d))),__mul__("[",d)))}();return"array({}, dtype={})".format(s,self._dtype)})},get __len__(){return __get__(this,function(self){return self._shape[0]})},get __lt__(){return __get__(this,
function(self,other){var ndarray=Ndarray(len(self._data),"uint8");ndarray._shape=self._shape;ndarray._indices=self._indices;var ndarray_data=ndarray._data;var data=self._data;if(!hasattr(other,"__iter__"))for(var i=0;i<len(data);i++)ndarray_data[i]=data[i]<other;else{var other_data=self._get_data(other);for(var i=0;i<len(data);i++)ndarray_data[i]=data[i]<other_data[i]}return ndarray})},get __le__(){return __get__(this,function(self,other){var ndarray=Ndarray(self._shape,"uint8");ndarray._shape=self._shape;
ndarray._indices=self._indices;var ndarray_data=ndarray._data;var data=self._data;if(!hasattr(other,"__iter__"))for(var i=0;i<len(data);i++)ndarray_data[i]=data[i]<=other;else{var other_data=self._get_data(other);for(var i=0;i<len(data);i++)ndarray_data[i]=data[i]<=other_data[i]}return ndarray})},get __eq__(){return __get__(this,function(self,other){var ndarray=Ndarray(self._shape,"uint8");ndarray._shape=self._shape;ndarray._indices=self._indices;var ndarray_data=ndarray._data;var data=self._data;
if(!hasattr(other,"__iter__"))for(var i=0;i<len(data);i++)ndarray_data[i]=data[i]==other;else{var other_data=self._get_data(other);for(var i=0;i<len(data);i++)ndarray_data[i]=data[i]==other_data[i]}return ndarray})},get __ne__(){return __get__(this,function(self,other){var ndarray=Ndarray(self._shape,"uint8");ndarray._shape=self._shape;ndarray._indices=self._indices;var ndarray_data=ndarray._data;var data=self._data;if(!hasattr(other,"__iter__"))for(var i=0;i<len(data);i++)ndarray_data[i]=data[i]!=
other;else{var other_data=self._get_data(other);for(var i=0;i<len(data);i++)ndarray_data[i]=data[i]!=other_data[i]}return ndarray})},get __gt__(){return __get__(this,function(self,other){var ndarray=Ndarray(self._shape,"uint8");ndarray._shape=self._shape;ndarray._indices=self._indices;var ndarray_data=ndarray._data;var data=self._data;if(!hasattr(other,"__iter__"))for(var i=0;i<len(data);i++)ndarray_data[i]=data[i]>other;else{var other_data=self._get_data(other);for(var i=0;i<len(data);i++)ndarray_data[i]=
data[i]>other_data[i]}return ndarray})},get __ge__(){return __get__(this,function(self,other){var ndarray=Ndarray(self._shape,"uint8");ndarray._shape=self._shape;ndarray._indices=self._indices;var ndarray_data=ndarray._data;var data=self._data;if(!hasattr(other,"__iter__"))for(var i=0;i<len(data);i++)ndarray_data[i]=data[i]>=other;else{var other_data=self._get_data(other);for(var i=0;i<len(data);i++)ndarray_data[i]=data[i]>=other_data[i]}return ndarray})},get __add__(){return __get__(this,function(self,
other){var ndarray=self.empty();var ndarray_data=ndarray._data;var data=self._data;if(!hasattr(other,"__iter__"))for(var i=0;i<len(data);i++)ndarray_data[i]=data[i]+other;else{var other_data=self._get_data(other);for(var i=0;i<len(data);i++)ndarray_data[i]=data[i]+other_data[i]}return ndarray})},get __sub__(){return __get__(this,function(self,other){var ndarray=self.empty();var ndarray_data=ndarray._data;var data=self._data;if(!hasattr(other,"__iter__"))for(var i=0;i<len(data);i++)ndarray_data[i]=
data[i]-other;else{var other_data=self._get_data(other);for(var i=0;i<len(data);i++)ndarray_data[i]=data[i]-other_data[i]}return ndarray})},get __mul__(){return __get__(this,function(self,other){var ndarray=self.empty();var ndarray_data=ndarray._data;var data=self._data;if(!hasattr(other,"__iter__"))for(var i=0;i<len(data);i++)ndarray_data[i]=data[i]*other;else{var other_data=self._get_data(other);for(var i=0;i<len(data);i++)ndarray_data[i]=data[i]*other_data[i]}return ndarray})},get __div__(){return __get__(this,
function(self,other){return self.__truediv__(other)})},get __truediv__(){return __get__(this,function(self,other){var ndarray=self.empty();var ndarray_data=ndarray._data;var data=self._data;if(!hasattr(other,"__iter__"))for(var i=0;i<len(data);i++)ndarray_data[i]=data[i]/other;else{var other_data=self._get_data(other);for(var i=0;i<len(data);i++)ndarray_data[i]=data[i]/other_data[i]}return ndarray})},get __floordiv__(){return __get__(this,function(self,other){var ndarray=self.empty();var ndarray_data=
ndarray._data;var data=self._data;if(!hasattr(other,"__iter__"))for(var i=0;i<len(data);i++)ndarray_data[i]=_floor(data[i]/other);else{var other_data=self._get_data(other);for(var i=0;i<len(data);i++)ndarray_data[i]=_floor(data[i]/other_data[i])}return ndarray})},get __divmod__(){return __get__(this,function(self,other){return tuple([self.__floordiv__(other),self.__mod__(other)])})},get __mod__(){return __get__(this,function(self,other){var ndarray=self.empty();var ndarray_data=ndarray._data;var data=
self._data;if(!hasattr(other,"__iter__"))for(var i=0;i<len(data);i++)ndarray_data[i]=__mod__(data[i],other);else{var other_data=self._get_data(other);for(var i=0;i<len(data);i++)ndarray_data[i]=__mod__(data[i],other_data[i])}return ndarray})},get __pow__(){return __get__(this,function(self,other){var ndarray=self.empty();var ndarray_data=ndarray._data;var data=self._data;if(!hasattr(other,"__iter__"))for(var i=0;i<len(data);i++)ndarray_data[i]=Math.pow(data[i],other);else{var other_data=self._get_data(other);
for(var i=0;i<len(data);i++)ndarray_data[i]=Math.pow(data[i],other_data[i])}return ndarray})},get __neg__(){return __get__(this,function(self){var ndarray=self.empty();var ndarray_data=ndarray._data;var data=self._data;for(var i=0;i<len(data);i++)ndarray_data[i]=-data[i];return ndarray})},get __pos__(){return __get__(this,function(self){var ndarray=self.copy();return ndarray})},get __abs__(){return __get__(this,function(self){var ndarray=self.empty();var ndarray_data=ndarray._data;var data=self._data;
for(var i=0;i<len(data);i++)if(data[i]<0)ndarray_data[i]=-data[i];return ndarray})},get __matmul__(){return __get__(this,function(self,other){var _other=self._get_array(other);var x_dim=len(self._shape);var y_dim=len(_other._shape);if(x_dim!=y_dim){var __except0__=ValueError("incompatible array shapes for matmul");__except0__.__cause__=null;throw __except0__;}if(x_dim==1)if(self._shape[0]==_other._shape[0]){var data=self._data;var other_data=_other._data;var result=0;for(var i=0;i<len(data);i++)result+=
data[i]*other_data[i];return result}else{var __except0__=ValueError("incompatible array shapes for matmul");__except0__.__cause__=null;throw __except0__;}var xshape=self._shape.__getslice__(-2,null,1);var yshape=_other._shape.__getslice__(-2,null,1);if(xshape[1]==yshape[0]){var m=xshape[1];var n=xshape[0];var p=yshape[1];var d=self._shape.__getslice__(0,-2,1);var d_len=1;for(var v of d)d_len*=v}else{var __except0__=ValueError("incompatible array shapes for matmul");__except0__.__cause__=null;throw __except0__;
}var _data=new self._typedarray[self._dtype](d_len*n*p);var array=Ndarray(_data,self._dtype);(function(){var __accu0__=array;return __call__(__accu0__.setshape,__accu0__,__call__(tuple,null,__add__(d,tuple([n,p]))))})();if(__eq__(x_dim,2))var arrays=[tuple([self,_other,array])];else if(__eq__(x_dim,3))var arrays=function(){var __accu0__=[];for(var i=0;i<__getitem__(d,0);i++)(function(){var __accu1__=__accu0__;return __call__(__accu1__.append,__accu1__,tuple([__getitem__(self,i),__getitem__(_other,
i),__getitem__(array,i)]))})();return __accu0__}();else if(__eq__(x_dim,4))var arrays=function(){var __accu0__=[];var __iterable0__=function(){var __accu1__=[];for(var i=0;i<__getitem__(d,0);i++)for(var j=0;j<__getitem__(d,1);j++)(function(){var __accu2__=__accu1__;return __call__(__accu2__.append,__accu2__,tuple([i,j]))})();return __accu1__}();for(var __index0__=0;__index0__<len(__iterable0__);__index0__++){var __left0__=__getitem__(__iterable0__,__index0__);var i=__left0__[0];var j=__left0__[1];
(function(){var __accu1__=__accu0__;return __call__(__accu1__.append,__accu1__,tuple([self.__getitem__([i,j]),_other.__getitem__([i,j]),array.__getitem__([i,j])]))})()}return __accu0__}();else if(__eq__(x_dim,5))var arrays=function(){var __accu0__=[];var __iterable0__=function(){var __accu1__=[];for(var i=0;i<__getitem__(d,0);i++)for(var j=0;j<__getitem__(d,1);j++)for(var k=0;k<__getitem__(d,2);k++)(function(){var __accu2__=__accu1__;return __call__(__accu2__.append,__accu2__,tuple([i,j,k]))})();
return __accu1__}();for(var __index0__=0;__index0__<len(__iterable0__);__index0__++){var __left0__=__getitem__(__iterable0__,__index0__);var i=__left0__[0];var j=__left0__[1];var k=__left0__[2];(function(){var __accu1__=__accu0__;return __call__(__accu1__.append,__accu1__,tuple([self.__getitem__([i,j,k]),_other.__getitem__([i,j,k]),array.__getitem__([i,j,k])]))})()}return __accu0__}();else{var __except0__=__call__(ValueError,null,"incompatible array shapes for matmul");__except0__.__cause__=null;
throw __except0__;}for(var [_x,_y,_array]of arrays){var _x_data=_x._data;var _y_data=_y._data;var _array_data=_array._data;for(var i=0;i<n;i++)for(var j=0;j<p;j++){var result=0;for(var k=0;k<m;k++)result+=_x_data[i*m+k]*_y_data[k*p+j];_array_data[i*p+j]=result}}return array})},get __iadd__(){return __get__(this,function(self,other){var data=self._data;if(!hasattr(other,"__iter__"))for(var i=0;i<len(data);i++)data[i]+=other;else{var other_data=self._get_data(other);for(var i=0;i<len(data);i++)data[i]+=
other_data[i]}return self})},get __isub__(){return __get__(this,function(self,other){var data=self._data;if(!hasattr(other,"__iter__"))for(var i=0;i<len(data);i++)data[i]-=other;else{var other_data=self._get_data(other);for(var i=0;i<len(data);i++)data[i]-=other_data[i]}return self})},get __imul__(){return __get__(this,function(self,other){var data=self._data;if(!hasattr(other,"__iter__"))for(var i=0;i<len(data);i++)data[i]*=other;else{var other_data=self._get_data(other);for(var i=0;i<len(data);i++)data[i]*=
other_data[i]}return self})},get __idiv__(){return __get__(this,function(self,other){return self.__itruediv__(other)})},get __itruediv__(){return __get__(this,function(self,other){var data=self._data;if(!hasattr(other,"__iter__"))for(var i=0;i<len(data);i++)data[i]/=other;else{var other_data=self._get_data(other);for(var i=0;i<len(data);i++)data[i]/=other_data[i]}return self})},get __ifloordiv__(){return __get__(this,function(self,other){var data=self._data;if(!hasattr(other,"__iter__"))for(var i=
0;i<len(data);i++)data[i]=_floor(data[i]/other);else{var other_data=self._get_data(other);for(var i=0;i<len(data);i++)data[i]=_floor(data[i]/other_data[i])}return self})},get __imod__(){return __get__(this,function(self,other){var data=self._data;if(!hasattr(other,"__iter__"))for(var i=0;i<len(data);i++)data[i]=__mod__(data[i],other);else{var other_data=self._get_data(other);for(var i=0;i<len(data);i++)data[i]=__mod__(data[i],other_data[i])}return self})},get __ipow__(){return __get__(this,function(self,
other){var data=self._data;if(!hasattr(other,"__iter__"))for(var i=0;i<len(data);i++)data[i]=Math.pow(data[i],other);else{var other_data=self._get_data(other);for(var i=0;i<len(data);i++)data[i]=Math.pow(data[i],other_data[i])}return self})},get __lshift__(){return __get__(this,function(self,other){var ndarray=self.empty();var ndarray_data=ndarray._data;var data=self._data;if(!hasattr(other,"__iter__"))for(var i=0;i<len(data);i++)ndarray_data[i]=data[i]<<other;else{var other_data=self._get_data(other);
for(var i=0;i<len(data);i++)ndarray_data[i]=data[i]<<other_data[i]}return ndarray})},get __rshift__(){return __get__(this,function(self,other){var ndarray=self.empty();var ndarray_data=ndarray._data;var data=self._data;if(!hasattr(other,"__iter__"))for(var i=0;i<len(data);i++)ndarray_data[i]=data[i]>>other;else{var other_data=self._get_data(other);for(var i=0;i<len(data);i++)ndarray_data[i]=data[i]>>other_data[i]}return ndarray})},get __and__(){return __get__(this,function(self,other){var ndarray=
self.empty();var ndarray_data=ndarray._data;var data=self._data;if(!hasattr(other,"__iter__"))for(var i=0;i<len(data);i++)ndarray_data[i]=data[i]&other;else{var other_data=self._get_data(other);for(var i=0;i<len(data);i++)ndarray_data[i]=data[i]&other_data[i]}return ndarray})},get __or__(){return __get__(this,function(self,other){var ndarray=self.empty();var ndarray_data=ndarray._data;var data=self._data;if(!hasattr(other,"__iter__"))for(var i=0;i<len(data);i++)ndarray_data[i]=data[i]|other;else{var other_data=
self._get_data(other);for(var i=0;i<len(data);i++)ndarray_data[i]=data[i]|other_data[i]}return ndarray})},get __xor__(){return __get__(this,function(self,other){var ndarray=self.empty();var ndarray_data=ndarray._data;var data=self._data;if(!hasattr(other,"__iter__"))for(var i=0;i<len(data);i++)ndarray_data[i]=data[i]^other;else{var other_data=self._get_data(other);for(var i=0;i<len(data);i++)ndarray_data[i]=data[i]^other_data[i]}return ndarray})},get __ilshift__(){return __get__(this,function(self,
other){var data=self._data;if(!hasattr(other,"__iter__"))for(var i=0;i<len(data);i++)data[i]=data[i]<<other;else{var other_data=self._get_data(other);for(var i=0;i<len(data);i++)data[i]=data[i]<<other_data[i]}return self})},get __irshift__(){return __get__(this,function(self,other){var data=self._data;if(!hasattr(other,"__iter__"))for(var i=0;i<len(data);i++)data[i]=data[i]>>other;else{var other_data=self._get_data(other);for(var i=0;i<len(data);i++)data[i]=data[i]>>other_data[i]}return self})},get __iand__(){return __get__(this,
function(self,other){var data=self._data;if(!hasattr(other,"__iter__"))for(var i=0;i<len(data);i++)data[i]=data[i]&other;else{var other_data=self._get_data(other);for(var i=0;i<len(data);i++)data[i]=data[i]&other_data[i]}return self})},get __ior__(){return __get__(this,function(self,other){var data=self._data;if(!hasattr(other,"__iter__"))for(var i=0;i<len(data);i++)data[i]=data[i]|other;else{var other_data=self._get_data(other);for(var i=0;i<len(data);i++)data[i]=data[i]|other_data[i]}return self})},
get __ixor__(){return __get__(this,function(self,other){var data=self._data;if(!hasattr(other,"__iter__"))for(var i=0;i<len(data);i++)data[i]=data[i]^other;else{var other_data=self._get_data(other);for(var i=0;i<len(data);i++)data[i]=data[i]^other_data[i]}return self})},get __invert__(){return __get__(this,function(self){var ndarray=self.empty();var ndarray_data=ndarray._data;var data=self._data;for(var i=0;i<len(data);i++)ndarray_data[i]=~data[i];return ndarray})},get _get_data(){return __get__(this,
function(self,other){if(!isinstance(other,Ndarray))if(isinstance(other,list))var other=Ndarray(other,self._dtype);else var other=Ndarray(list(other),self._dtype);if(__ne__(self._shape,other._shape)){var __except0__=__call__(py_TypeError,null,"array shapes are not compatible");__except0__.__cause__=null;throw __except0__;}return other._data})},get _get_array(){return __get__(this,function(self,other){if(!isinstance(other,Ndarray))if(isinstance(other,list))var other=Ndarray(other,self._dtype);else var other=
Ndarray(list(other),self._dtype);return other})},get dot(){return __get__(this,function(self,other){if(!hasattr(other,"__iter__")){var data=self._data;var ndarray=self.empty();var ndarray_data=ndarray._data;for(var i=0;i<len(data);i++)ndarray_data[i]=data[i]*other;return ndarray}else{var other_array=self._get_array(other);if(len(other_array._shape)==1)if(len(self._shape)==1){var data=self._data;var other_data=other_array._data;var result=0;for(var i=0;i<len(data);i++)result+=data[i]*other_data[i];
return result}else{var result=Ndarray(self._shape[0],self._dtype);var other_data=other_array._data;for(var [index,arr]of enumerate(self)){var data=arr._data;var res_data=result._data;for(var i=0;i<len(data);i++)res_data[index]+=data[i]*other_data[i]}return result}else return self.__matmul__(other_array)}})},get matmul(){return __get__(this,function(self,other){return self.__matmul__(other)})},get max(){return __get__(this,function(self,axis){if(typeof axis=="undefined"||axis!=null&&axis.hasOwnProperty("__kwargtrans__"))var axis=
null;if(arguments.length){var __ilastarg0__=arguments.length-1;if(arguments[__ilastarg0__]&&arguments[__ilastarg0__].hasOwnProperty("__kwargtrans__")){var __allkwargs0__=arguments[__ilastarg0__--];for(var __attrib0__ in __allkwargs0__)switch(__attrib0__){case "self":var self=__allkwargs0__[__attrib0__];break;case "axis":var axis=__allkwargs0__[__attrib0__];break}}}else;if(axis===null)return max(self._data);if(axis>len(self._shape)-1){var __except0__=IndexError("axis out of bound");__except0__.__cause__=
null;throw __except0__;}var shape=tuple(function(){var __accu0__=[];for(var [index,i]of enumerate(self._shape))if(index!=axis)__accu0__.append(i);return __accu0__}());var result=Ndarray(shape,self._dtype);result.fill(min(self._data));return self._max(self,axis,0,self._shape,0,result)})},get _max(){return __get__(this,function(self,array,axis,curr_axis,shape,dim,result){if(curr_axis==axis)if(axis!=len(shape)-1){var res_dat=result._data;for(var i=0;i<len(array);i++){var arr_dat=__getitem__(array,i)._data;
for(var j=0;j<result._data.length;j++)if(res_dat[j]<arr_dat[j])res_dat[j]=arr_dat[j]}}else{var res_dat=result._data;var arr_dat=array._data;for(var i=0;i<len(array);i++)if(res_dat[dim]<arr_dat[i])res_dat[dim]=arr_dat[i]}else if(curr_axis<len(shape))if(len(result._shape)>1)for(var dim=0;dim<shape[curr_axis];dim++)(function(){var __accu0__=self;return __call__(__accu0__._max,__accu0__,__getitem__(array,dim),axis,__add__(curr_axis,1),shape,dim,__getitem__(result,dim))})();else for(var dim=0;dim<shape[curr_axis];dim++)(function(){var __accu0__=
self;return __call__(__accu0__._max,__accu0__,__getitem__(array,dim),axis,__add__(curr_axis,1),shape,dim,result)})();return result})},get min(){return __get__(this,function(self,axis){if(typeof axis=="undefined"||axis!=null&&axis.hasOwnProperty("__kwargtrans__"))var axis=null;if(arguments.length){var __ilastarg0__=arguments.length-1;if(arguments[__ilastarg0__]&&arguments[__ilastarg0__].hasOwnProperty("__kwargtrans__")){var __allkwargs0__=arguments[__ilastarg0__--];for(var __attrib0__ in __allkwargs0__)switch(__attrib0__){case "self":var self=
__allkwargs0__[__attrib0__];break;case "axis":var axis=__allkwargs0__[__attrib0__];break}}}else;if(axis===null)return min(self._data);if(axis>len(self._shape)-1){var __except0__=IndexError("axis out of bound");__except0__.__cause__=null;throw __except0__;}var shape=tuple(function(){var __accu0__=[];for(var [index,i]of enumerate(self._shape))if(index!=axis)__accu0__.append(i);return __accu0__}());var result=Ndarray(shape,self._dtype);result.fill(max(self._data));return self._min(self,axis,0,self._shape,
0,result)})},get _min(){return __get__(this,function(self,array,axis,curr_axis,shape,dim,result){if(curr_axis==axis)if(axis!=len(shape)-1){var res_dat=result._data;for(var i=0;i<len(array);i++){var arr_dat=__getitem__(array,i)._data;for(var j=0;j<result._data.length;j++)if(res_dat[j]>arr_dat[j])res_dat[j]=arr_dat[j]}}else{var res_dat=result._data;var arr_dat=array._data;for(var i=0;i<len(array);i++)if(res_dat[dim]>arr_dat[i])res_dat[dim]=arr_dat[i]}else if(curr_axis<len(shape))if(len(result._shape)>
1)for(var dim=0;dim<shape[curr_axis];dim++)(function(){var __accu0__=self;return __call__(__accu0__._min,__accu0__,__getitem__(array,dim),axis,__add__(curr_axis,1),shape,dim,__getitem__(result,dim))})();else for(var dim=0;dim<shape[curr_axis];dim++)(function(){var __accu0__=self;return __call__(__accu0__._min,__accu0__,__getitem__(array,dim),axis,__add__(curr_axis,1),shape,dim,result)})();return result})},get sum(){return __get__(this,function(self,axis){if(typeof axis=="undefined"||axis!=null&&axis.hasOwnProperty("__kwargtrans__"))var axis=
null;if(arguments.length){var __ilastarg0__=arguments.length-1;if(arguments[__ilastarg0__]&&arguments[__ilastarg0__].hasOwnProperty("__kwargtrans__")){var __allkwargs0__=arguments[__ilastarg0__--];for(var __attrib0__ in __allkwargs0__)switch(__attrib0__){case "self":var self=__allkwargs0__[__attrib0__];break;case "axis":var axis=__allkwargs0__[__attrib0__];break}}}else;if(axis===null)return sum(self._data);if(axis>len(self._shape)-1){var __except0__=IndexError("axis out of bound");__except0__.__cause__=
null;throw __except0__;}var shape=tuple(function(){var __accu0__=[];for(var [index,i]of enumerate(self._shape))if(index!=axis)__accu0__.append(i);return __accu0__}());var result=Ndarray(shape,self._dtype);return self._sum(self,axis,0,self._shape,0,result)})},get _sum(){return __get__(this,function(self,array,axis,curr_axis,shape,dim,result){if(curr_axis==axis)if(axis!=len(shape)-1){var res_dat=result._data;for(var i=0;i<len(array);i++){var arr_dat=__getitem__(array,i)._data;for(var j=0;j<result._data.length;j++)res_dat[j]+=
arr_dat[j]}}else{var res_dat=result._data;var arr_dat=array._data;for(var i=0;i<len(array);i++)res_dat[dim]+=arr_dat[i]}else if(curr_axis<len(shape))if(len(result._shape)>1)for(var dim=0;dim<shape[curr_axis];dim++)(function(){var __accu0__=self;return __call__(__accu0__._sum,__accu0__,__getitem__(array,dim),axis,__add__(curr_axis,1),shape,dim,__getitem__(result,dim))})();else for(var dim=0;dim<shape[curr_axis];dim++)(function(){var __accu0__=self;return __call__(__accu0__._sum,__accu0__,__getitem__(array,
dim),axis,__add__(curr_axis,1),shape,dim,result)})();return result})},get mean(){return __get__(this,function(self,axis){if(typeof axis=="undefined"||axis!=null&&axis.hasOwnProperty("__kwargtrans__"))var axis=null;if(arguments.length){var __ilastarg0__=arguments.length-1;if(arguments[__ilastarg0__]&&arguments[__ilastarg0__].hasOwnProperty("__kwargtrans__")){var __allkwargs0__=arguments[__ilastarg0__--];for(var __attrib0__ in __allkwargs0__)switch(__attrib0__){case "self":var self=__allkwargs0__[__attrib0__];
break;case "axis":var axis=__allkwargs0__[__attrib0__];break}}}else;if(axis===null)return sum(self._data)/self._data.length;if(axis>len(self._shape)-1){var __except0__=IndexError("axis out of bound");__except0__.__cause__=null;throw __except0__;}var shape=tuple(function(){var __accu0__=[];for(var [index,i]of enumerate(self._shape))if(index!=axis)__accu0__.append(i);return __accu0__}());var result=Ndarray(shape,"float64");return self._mean(self,axis,0,self._shape,0,result)})},get _mean(){return __get__(this,
function(self,array,axis,curr_axis,shape,dim,result){if(curr_axis==axis)if(axis!=len(shape)-1){var res=result._data;var arr_len=len(array);for(var i=0;i<arr_len;i++){var arr=__getitem__(array,i)._data;for(var j=0;j<result._data.length;j++)res[j]+=arr[j]}for(var j=0;j<result._data.length;j++)res[j]/=arr_len}else{var res=result._data;var arr=array._data;var arr_len=len(array);for(var i=0;i<arr_len;i++)res[dim]+=arr[i];res[dim]/=arr_len}else if(curr_axis<len(shape))if(len(result._shape)>1)for(var dim=
0;dim<shape[curr_axis];dim++)(function(){var __accu0__=self;return __call__(__accu0__._mean,__accu0__,__getitem__(array,dim),axis,__add__(curr_axis,1),shape,dim,__getitem__(result,dim))})();else for(var dim=0;dim<shape[curr_axis];dim++)(function(){var __accu0__=self;return __call__(__accu0__._mean,__accu0__,__getitem__(array,dim),axis,__add__(curr_axis,1),shape,dim,result)})();return result})},get var(){return __get__(this,function(self,axis){if(typeof axis=="undefined"||axis!=null&&axis.hasOwnProperty("__kwargtrans__"))var axis=
null;if(arguments.length){var __ilastarg0__=arguments.length-1;if(arguments[__ilastarg0__]&&arguments[__ilastarg0__].hasOwnProperty("__kwargtrans__")){var __allkwargs0__=arguments[__ilastarg0__--];for(var __attrib0__ in __allkwargs0__)switch(__attrib0__){case "self":var self=__allkwargs0__[__attrib0__];break;case "axis":var axis=__allkwargs0__[__attrib0__];break}}}else;if(axis===null){var mean=sum(self._data)/self._data.length;return sum(function(){var __accu0__=[];for(var val of self._data)__accu0__.append(Math.pow(val-
mean,2));return py_iter(__accu0__)}())/self._data.length}var mean=self.mean(axis);var shape=tuple(function(){var __accu0__=[];for(var [index,i]of enumerate(self._shape))if(index!=axis)__accu0__.append(i);return __accu0__}());var result=Ndarray(shape,"float64");return self._var(self,axis,0,self._shape,0,mean,result)})},get _var(){return __get__(this,function(self,array,axis,curr_axis,shape,dim,mean,result){if(curr_axis==axis)if(axis!=len(shape)-1){var mean_dat=mean._data;var res_dat=result._data;var arr_len=
len(array);for(var i=0;i<arr_len;i++){var arr_dat=__getitem__(array,i)._data;for(var j=0;j<result._data.length;j++)res_dat[j]+=Math.pow(arr_dat[j]-mean_dat[j],2)}for(var j=0;j<result._data.length;j++)res_dat[j]/=arr_len}else{var mean_dat=mean._data;var arr_dat=array._data;var res_dat=result._data;var arr_len=len(array);for(var i=0;i<arr_len;i++)res_dat[dim]+=Math.pow(arr_dat[i]-mean_dat[dim],2);res_dat[dim]/=arr_len}else if(curr_axis<len(shape))if(len(result._shape)>1)for(var dim=0;dim<shape[curr_axis];dim++)(function(){var __accu0__=
self;return __call__(__accu0__._var,__accu0__,__getitem__(array,dim),axis,__add__(curr_axis,1),shape,dim,__getitem__(mean,dim),__getitem__(result,dim))})();else for(var dim=0;dim<shape[curr_axis];dim++)(function(){var __accu0__=self;return __call__(__accu0__._var,__accu0__,__getitem__(array,dim),axis,__add__(curr_axis,1),shape,dim,mean,result)})();return result})},get std(){return __get__(this,function(self,axis){if(typeof axis=="undefined"||axis!=null&&axis.hasOwnProperty("__kwargtrans__"))var axis=
null;if(arguments.length){var __ilastarg0__=arguments.length-1;if(arguments[__ilastarg0__]&&arguments[__ilastarg0__].hasOwnProperty("__kwargtrans__")){var __allkwargs0__=arguments[__ilastarg0__--];for(var __attrib0__ in __allkwargs0__)switch(__attrib0__){case "self":var self=__allkwargs0__[__attrib0__];break;case "axis":var axis=__allkwargs0__[__attrib0__];break}}}else;if(axis===null){var mean=sum(self._data)/self._data.length;return Math.pow(sum(function(){var __accu0__=[];for(var val of self._data)__accu0__.append(Math.pow(val-
mean,2));return py_iter(__accu0__)}())/self._data.length,.5)}var result=self.var(axis);var res_dat=result._data;for(var i=0;i<result._data.length;i++)res_dat[i]=Math.pow(res_dat[i],.5);return result})},get reshape(){return __get__(this,function(self,dim){var size=1;for(var i of dim)size*=i;var array_size=1;for(var i of self._shape)array_size*=i;if(size!=array_size){var __except0__=py_TypeError("array size cannot change");__except0__.__cause__=null;throw __except0__;}var subarray=self._data.subarray(0);
var array=Ndarray(subarray,self._dtype);array._shape=dim;var indices=[];for(var i of array._shape){size/=i;indices.append(size)}array._indices=tuple(indices);return array})},get set(){return __get__(this,function(self,data){if(isinstance(data,tuple([list,tuple]))){if(isinstance(data[0],tuple([list,tuple])))var _data=function(){var __accu0__=[];for(var dat of data)for(var value of dat)__accu0__.append(value);return __accu0__}();else var _data=data;var dataLn=len(_data)}else if(isinstance(data,Ndarray)){var _data=
data._data;var dataLn=_data.length}else if(istypedarray(data)){var _data=data;var dataLn=data.length}else{for(var index=0;index<self._data.length;index++)self._data[index]=data;return null}if(dataLn==self._data.length)for(var index=0;index<self._data.length;index++)self._data[index]=_data[index];else for(var index=0;index<self._data.length;index++)self._data[index]=_data[__mod__(index,dataLn)];return null})},get fill(){return __get__(this,function(self,value){for(var index=0;index<self._data.length;index++)self._data[index]=
value;return null})},get copy(){return __get__(this,function(self){var array=new self._typedarray[self._dtype](self._data);var ndarray=Ndarray(array,self._dtype);ndarray._shape=self._shape;ndarray._indices=self._indices;return ndarray})},get empty(){return __get__(this,function(self){var ndarray=Ndarray(len(self._data),self._dtype);ndarray._shape=self._shape;ndarray._indices=self._indices;return ndarray})},get astype(){return __get__(this,function(self,dtype){var array=new self._typedarray[self._dtypes[dtype]](self._data);
var ndarray=Ndarray(array,dtype);ndarray._shape=self._shape;ndarray._indices=self._indices;return ndarray})},get view(){return __get__(this,function(self){var subarray=self._data.subarray(0);var array=Ndarray(subarray,self._dtype);array._shape=self._shape;array._indices=self._indices;return array})},get swapaxes(){return __get__(this,function(self,axis1,axis2){var subarray=self._data.subarray(0);var array=Ndarray(subarray,self._dtype);var shape=list(self._shape);var __left0__=tuple([shape[axis2],
shape[axis1]]);shape[axis1]=__left0__[0];shape[axis2]=__left0__[1];array.setshape(tuple(shape));return array})},get tolist(){return __get__(this,function(self){var to_list=function(array,l){var _array=__getitem__(array,0);if(hasattr(_array,"__iter__")){if(len(l)==0)var _l=l;else{var l=[l];var _l=l[0]}for(var [i,a]of enumerate(array)){_l.append([]);to_list(a,_l[i])}}else l.extend(function(){var __accu0__=[];for(var v of array)__accu0__.append(v);return __accu0__}());return l};return to_list(self,[])})},
get getArray(){return __get__(this,function(self){return self._data})},get toString(){return __get__(this,function(self){return self.__str__()})}});Object.defineProperty(Ndarray,"shape",property.call(Ndarray,Ndarray._get_shape,Ndarray._set_shape));export var ndarray=Ndarray;export var array=Ndarray;export var NP=__class__("NP",[object],{__module__:__name__,get __init__(){return __get__(this,function(self){self.uint8c="uint8c";self.int8="int8";self.uint8="uint8";self.int16="int16";self.uint16="uint16";
self.int32="int32";self.uint32="uint32";self.float32="float32";self.float64="float64";self.random=null})},get array(){return __get__(this,function(self,obj,dtype){if(typeof dtype=="undefined"||dtype!=null&&dtype.hasOwnProperty("__kwargtrans__"))var dtype=null;if(dtype===null)var dtype=self._get_dtype(obj);return Ndarray(obj,dtype)})},get zeros(){return __get__(this,function(self,shape,dtype){if(typeof dtype=="undefined"||dtype!=null&&dtype.hasOwnProperty("__kwargtrans__"))var dtype="float64";return Ndarray(shape,
dtype)})},get ones(){return __get__(this,function(self,shape,dtype){if(typeof dtype=="undefined"||dtype!=null&&dtype.hasOwnProperty("__kwargtrans__"))var dtype="float64";var array=Ndarray(shape,dtype);array.set(1);return array})},get arange(){return __get__(this,function(self,start,stop,step,dtype){if(typeof start=="undefined"||start!=null&&start.hasOwnProperty("__kwargtrans__"))var start=0;if(typeof stop=="undefined"||stop!=null&&stop.hasOwnProperty("__kwargtrans__"))var stop=null;if(typeof step==
"undefined"||step!=null&&step.hasOwnProperty("__kwargtrans__"))var step=null;if(typeof dtype=="undefined"||dtype!=null&&dtype.hasOwnProperty("__kwargtrans__"))var dtype=null;if(arguments.length){var __ilastarg0__=arguments.length-1;if(arguments[__ilastarg0__]&&arguments[__ilastarg0__].hasOwnProperty("__kwargtrans__")){var __allkwargs0__=arguments[__ilastarg0__--];for(var __attrib0__ in __allkwargs0__)switch(__attrib0__){case "self":var self=__allkwargs0__[__attrib0__];break;case "start":var start=
__allkwargs0__[__attrib0__];break;case "stop":var stop=__allkwargs0__[__attrib0__];break;case "step":var step=__allkwargs0__[__attrib0__];break;case "dtype":var dtype=__allkwargs0__[__attrib0__];break}}}else;if(stop===null){var stop=start;var start=0}if(step===null)var step=1;var array=range(start,stop,step);if(dtype===null)var dtype=self._get_dtype(array);return Ndarray(array,dtype)})},get swapaxes(){return __get__(this,function(self,array,axis1,axis2){return array.swapaxes(axis1,axis2)})},get append(){return __get__(this,
function(self,array,py_values){if(isinstance(py_values[0],tuple([list,tuple])))var py_values=function(){var __accu0__=[];for(var dat of py_values)for(var value of dat)__accu0__.append(value);return __accu0__}();var newarray=Ndarray(len(array)+len(py_values),array._dtype);newarray._data.set(array._data);newarray._data.set(py_values,len(array));return newarray})},get dot(){return __get__(this,function(self,a,b){return a.dot(b)})},get matmul(){return __get__(this,function(self,a,b){return a.__matmul__(b)})},
get set_printoptions(){return __get__(this,function(self,precision,nanstr,infstr){if(typeof precision=="undefined"||precision!=null&&precision.hasOwnProperty("__kwargtrans__"))var precision=null;if(typeof nanstr=="undefined"||nanstr!=null&&nanstr.hasOwnProperty("__kwargtrans__"))var nanstr=null;if(typeof infstr=="undefined"||infstr!=null&&infstr.hasOwnProperty("__kwargtrans__"))var infstr=null;if(arguments.length){var __ilastarg0__=arguments.length-1;if(arguments[__ilastarg0__]&&arguments[__ilastarg0__].hasOwnProperty("__kwargtrans__")){var __allkwargs0__=
arguments[__ilastarg0__--];for(var __attrib0__ in __allkwargs0__)switch(__attrib0__){case "self":var self=__allkwargs0__[__attrib0__];break;case "precision":var precision=__allkwargs0__[__attrib0__];break;case "nanstr":var nanstr=__allkwargs0__[__attrib0__];break;case "infstr":var infstr=__allkwargs0__[__attrib0__];break}}}else;if(precision!==null)Ndarray._opts["precision"]=int(precision);if(nanstr!==null)Ndarray._opts["nanstr"]=str(nanstr);if(infstr!==null)Ndarray._opts["infstr"]=str(infstr)})},
get get_printoptions(){return __get__(this,function(self){return dict(Ndarray._opts)})},get _lflatten(){return __get__(this,function*(self,obj){for(var el of obj)if(hasattr(el,"__iter__"))yield*self._lflatten(el);else yield el})},get _get_dtype(){return __get__(this,function(self,obj){var dtype="int32";for(var value of self._lflatten(obj))if(!(Number.isFinite(value)&&Number.isInteger(value)))if(typeof value!="boolean"){var dtype="float64";break}return dtype})}});export var np=NP();export var Random=
__class__("Random",[object],{__module__:__name__,get __init__(){return __get__(this,function(self){self._gauss_next=null;self._pi2=_pi*2})},get normal(){return __get__(this,function(self,mu,sigma,size){if(typeof size=="undefined"||size!=null&&size.hasOwnProperty("__kwargtrans__"))var size=null;if(size===null)return self._gauss(mu,sigma);var array=Ndarray(size,"float64");var data=array._data;var gauss=self._gauss;for(var i=0;i<data.length;i++)data[i]=gauss(mu,sigma);return array})},get _gauss(){return __get__(this,
function(self,mu,sigma){var z=self._gauss_next;self._gauss_next=null;if(z===null){var x2pi=_random()*self._pi2;var g2rad=_sqrt(-2*_log(1-_random()));var z=_cos(x2pi)*g2rad;self._gauss_next=_sin(x2pi)*g2rad}return mu+z*sigma})},get random(){return __get__(this,function(self,size){if(typeof size=="undefined"||size!=null&&size.hasOwnProperty("__kwargtrans__"))var size=null;if(size===null)return _random();var array=Ndarray(size,"float64");var data=array._data;for(var i=0;i<data.length;i++)data[i]=_random();
return array})},get randint(){return __get__(this,function(self,low,high,size,dtype){if(typeof high=="undefined"||high!=null&&high.hasOwnProperty("__kwargtrans__"))var high=null;if(typeof size=="undefined"||size!=null&&size.hasOwnProperty("__kwargtrans__"))var size=null;if(typeof dtype=="undefined"||dtype!=null&&dtype.hasOwnProperty("__kwargtrans__"))var dtype="int32";if(arguments.length){var __ilastarg0__=arguments.length-1;if(arguments[__ilastarg0__]&&arguments[__ilastarg0__].hasOwnProperty("__kwargtrans__")){var __allkwargs0__=
arguments[__ilastarg0__--];for(var __attrib0__ in __allkwargs0__)switch(__attrib0__){case "self":var self=__allkwargs0__[__attrib0__];break;case "low":var low=__allkwargs0__[__attrib0__];break;case "high":var high=__allkwargs0__[__attrib0__];break;case "size":var size=__allkwargs0__[__attrib0__];break;case "dtype":var dtype=__allkwargs0__[__attrib0__];break}}}else;if(high===null){var a=0;var b=low}else{var a=low;var b=high}if(size===null)return _randint(a,b);var array=Ndarray(size,dtype);var data=
array._data;for(var i=0;i<data.length;i++)data[i]=_randint(a,b);return array})},get choice(){return __get__(this,function(self,seq,size){if(typeof size=="undefined"||size!=null&&size.hasOwnProperty("__kwargtrans__"))var size=null;if(Number.isInteger(seq))var _seq=range(seq);else var _seq=seq;if(size===null)return _choice(_seq);var dtype=np._get_dtype(_seq);var array=Ndarray(size,dtype);var data=array._data;for(var i=0;i<data.length;i++)data[i]=_choice(_seq);return array})},get shuffle(){return __get__(this,
function(self,array){if(!hasattr(array,"_shape")){_shuffle(array);return null}if(len(array._shape)==1)_shuffle(array._data);else for(var i=len(array)-1;i>0;i--){var j=_randint(0,i);if(i==j)continue;var temp=function(){var __accu0__=__getitem__(array,i);return __call__(__accu0__.copy,__accu0__)}();__setitem__(array,i,__getitem__(array,j));__setitem__(array,j,temp)}return null})},get permutation(){return __get__(this,function(self,seq){if(Number.isInteger(seq))var _seq=range(seq);else var _seq=seq;
if(!hasattr(_seq,"_shape")){var dtype=np._get_dtype(_seq);var array=Ndarray(_seq,dtype)}else var array=_seq.copy();self.shuffle(array);return array})}});np.random=Random();export var ImageData=__class__("ImageData",[object],{__module__:__name__,get __init__(){return __get__(this,function(self,imagedata){self._imagedata=imagedata;self.data=Uint8ClampedArray(imagedata.data);self.width=imagedata.width;self.height=imagedata.height})},get getImageData(){return __get__(this,function(self){return self._imagedata})}});
export var ImageMatrix=__class__("ImageMatrix",[Ndarray],{__module__:__name__,get __init__(){return __get__(this,function(self,imagedata){self._imagedata=ImageData(imagedata);Ndarray.__init__(self,self._imagedata.data,"uint8c");self.setshape(self._imagedata.height,self._imagedata.width,4)})},get getWidth(){return __get__(this,function(self){return self._imagedata.width})},get getHeight(){return __get__(this,function(self){return self._imagedata.height})},get getPixel(){return __get__(this,function(self,
index){var i=index[0]*self._indices[0]+index[1]*4;return tuple([self._imagedata.data[i],self._imagedata.data[i+1],self._imagedata.data[i+2],self._imagedata.data[i+3]])})},get setPixel(){return __get__(this,function(self,index,value){var i=index[0]*self._indices[0]+index[1]*4;var __left0__=tuple([value[0],value[1],value[2],value[3]]);self._imagedata.data[i]=__left0__[0];self._imagedata.data[i+1]=__left0__[1];self._imagedata.data[i+2]=__left0__[2];self._imagedata.data[i+3]=__left0__[3];return null})},
get getPixelRGB(){return __get__(this,function(self,index){var i=index[0]*self._indices[0]+index[1]*4;return tuple([self._imagedata.data[i],self._imagedata.data[i+1],self._imagedata.data[i+2]])})},get setPixelRGB(){return __get__(this,function(self,index,value){var i=index[0]*self._indices[0]+index[1]*4;var __left0__=tuple([value[0],value[1],value[2]]);self._imagedata.data[i]=__left0__[0];self._imagedata.data[i+1]=__left0__[1];self._imagedata.data[i+2]=__left0__[2];return null})},get getPixelAlpha(){return __get__(this,
function(self,index){var i=index[0]*self._indices[0]+index[1]*4;return self._imagedata.data[i+3]})},get setPixelAlpha(){return __get__(this,function(self,index,value){var i=index[0]*self._indices[0]+index[1]*4;self._imagedata.data[i+3]=value;return null})},get getPixelInteger(){return __get__(this,function(self,index){var i=index[0]*self._indices[0]+index[1]*4;return self._imagedata.data[i]<<16|self._imagedata.data[i+1]<<8|self._imagedata.data[i+2]|self.imagedata.data[i+3]<<24})},get setPixelInteger(){return __get__(this,
function(self,index,value){var i=index[0]*self._indices[0]+index[1]*4;var __left0__=tuple([value>>16&255,value>>8&255,value&255,value>>24&255]);self._imagedata.data[i]=__left0__[0];self._imagedata.data[i+1]=__left0__[1];self._imagedata.data[i+2]=__left0__[2];self._imagedata.data[i+3]=__left0__[3];return null})},get getImageData(){return __get__(this,function(self){return self._imagedata.getImageData()})}});export var BitSet=__class__("BitSet",[object],{__module__:__name__,_bit:8,_bitmask:null,_typedarray:window.Uint8Array,
get __init__(){return __get__(this,function(self,width){if(typeof width=="undefined"||width!=null&&width.hasOwnProperty("__kwargtrans__"))var width=null;if(self._bitmask===null)self._bitmask=dict(function(){var __accu0__=[];for(var i=self._bit-1;i>-1;i--)__accu0__.append(tuple([self._bit-i-1,1<<i]));return __accu0__}());if(width)self._width=abs(width);else self._width=self._bit;self._data=new self._typedarray(_ceil(self._width/(self._bit*1)))})},get __str__(){return __get__(this,function(self){var v=
dict({true:"1",false:"0"});var s=[];for(var i=0;i<self.size();i++){s.append(v[self.py_get(i)]);if(!__mod__(i+1,64))s.append("\n")}return"".join(s)})},get __repr__(){return __get__(this,function(self){var setBit=[];for(var index=0;index<self._width;index++)if(self.py_get(index))setBit.append(str(index));return"{"+", ".join(setBit)+"}"})},get __getitem__(){return __get__(this,function(self,index){return self.py_get(index)})},get __setitem__(){return __get__(this,function(self,index,value){self.set(index,
value)})},get __len__(){return __get__(this,function(self){for(var index of list(range(self._width-1,-1,-1)))if(self.py_get(index))break;return index+1})},get __iter__(){return __get__(this,function*(self){var index=0;while(index<self._width){yield self.py_get(index);index++}})},[Symbol.iterator](){return this.__iter__()},get py_get(){return __get__(this,function(self,index,toIndex){if(typeof toIndex=="undefined"||toIndex!=null&&toIndex.hasOwnProperty("__kwargtrans__"))var toIndex=null;if(index>self._width-
1)if(!toIndex)return false;else{var size=toIndex-index;if(size>0)return self.__class__(size);else return null}if(toIndex===null)return bool(self._data[int(index/self._bit)]&self._bitmask[__mod__(index,self._bit)]);else{var size=toIndex-index;if(size>0){var bitset=self.__class__(size);var ix=0;if(toIndex>self._width)var toIndex=self._width;for(var i=index;i<toIndex;i++){bitset.set(ix,bool(self._data[int(i/self._bit)]&self._bitmask[__mod__(i,self._bit)]));ix++}return bitset}else return null}})},get set(){return __get__(this,
function(self,index,value){if(typeof value=="undefined"||value!=null&&value.hasOwnProperty("__kwargtrans__"))var value=1;if(index>self._width-1)if(value)self.resize(index+1);else return;if(value)self._data[int(index/self._bit)]=self._data[int(index/self._bit)]|self._bitmask[__mod__(index,self._bit)];else self._data[int(index/self._bit)]=self._data[int(index/self._bit)]&~self._bitmask[__mod__(index,self._bit)];return null})},get fill(){return __get__(this,function(self,index,toIndex){if(typeof index==
"undefined"||index!=null&&index.hasOwnProperty("__kwargtrans__"))var index=null;if(typeof toIndex=="undefined"||toIndex!=null&&toIndex.hasOwnProperty("__kwargtrans__"))var toIndex=null;if(index===null&&toIndex===null)for(var i=0;i<self._width;i++)self.set(i,1);else if(toIndex===null)self.set(index,1);else for(var i=index;i<toIndex;i++)self.set(i,1)})},get py_clear(){return __get__(this,function(self,index,toIndex){if(typeof index=="undefined"||index!=null&&index.hasOwnProperty("__kwargtrans__"))var index=
null;if(typeof toIndex=="undefined"||toIndex!=null&&toIndex.hasOwnProperty("__kwargtrans__"))var toIndex=null;if(index===null)for(var i=0;i<len(self._data);i++)self._data[i]=0;else if(toIndex===null)self.set(index,0);else if(index==0&&toIndex==self._width)for(var dat=0;dat<len(self._data);dat++)self._data[dat]=0;else for(var i=index;i<toIndex;i++)self.set(i,0)})},get flip(){return __get__(this,function(self,index,toIndex){if(typeof toIndex=="undefined"||toIndex!=null&&toIndex.hasOwnProperty("__kwargtrans__"))var toIndex=
null;if(toIndex===null)self.set(index,!self.py_get(index));else{if(toIndex>self._width){self.resize(toIndex);var toIndex=self._width}if(index==0&&toIndex==self._width)for(var dat=0;dat<len(self._data);dat++)self._data[dat]=~self._data[dat];else for(var i=index;i<toIndex;i++)self.set(i,!self.py_get(i))}})},get cardinality(){return __get__(this,function(self){var count=0;for(var bit=0;bit<self._width;bit++)if(self.py_get(bit))count++;return count})},get intersects(){return __get__(this,function(self,
bitset){for(var dat=0;dat<len(bitset._data);dat++){var intersect=bitset._data[dat]&self._data[dat];if(intersect)return true}return false})},get andSet(){return __get__(this,function(self,bitset){var data=min(len(self._data),len(bitset._data));for(var dat=0;dat<data;dat++)self._data[dat]=self._data[dat]&bitset._data[dat]})},get orSet(){return __get__(this,function(self,bitset){var data=min(len(self._data),len(bitset._data));for(var dat=0;dat<data;dat++)self._data[dat]=self._data[dat]|bitset._data[dat]})},
get xorSet(){return __get__(this,function(self,bitset){var data=min(len(self._data),len(bitset._data));for(var dat=0;dat<data;dat++)self._data[dat]=self._data[dat]^bitset._data[dat]})},get resize(){return __get__(this,function(self,width){if(width>self._width){self._width=width;if(self._width>len(self._data)*self._bit){var array=new self._typedarray(_ceil(self._width/(self._bit*1)));array.set(self._data);self._data=array}}else if(width<self._width){if(width<len(self))var width=len(self);self._width=
width;if(self._width<=len(self._data)*self._bit-self._bit){var array=new self._typedarray(_ceil(self._width/(self._bit*1)));array.set(self._data.subarray(0,_ceil(self._width/(self._bit*1))));self._data=array}}})},get size(){return __get__(this,function(self){return len(self._data)*self._bit})},get isEmpty(){return __get__(this,function(self){for(var data of self._data)if(data)return false;return true})},get clone(){return __get__(this,function(self){var new_bitset=self.__class__(1);var data=new self._typedarray(self._data);
new_bitset._data=data;new_bitset._width=self._width;return new_bitset})},get toString(){return __get__(this,function(self){return self.__str__()})}});export var BitSet16=__class__("BitSet16",[BitSet],{__module__:__name__,_bit:16,_bitmask:null,_typedarray:window.Uint16Array,get __init__(){return __get__(this,function(self,width){if(typeof width=="undefined"||width!=null&&width.hasOwnProperty("__kwargtrans__"))var width=null;BitSet.__init__(self,width)})}});export var BitSet32=__class__("BitSet32",
[BitSet],{__module__:__name__,_bit:32,_bitmask:null,_typedarray:window.Uint32Array,get __init__(){return __get__(this,function(self,width){if(typeof width=="undefined"||width!=null&&width.hasOwnProperty("__kwargtrans__"))var width=null;BitSet.__init__(self,width)})}});export var TypedArray=Object.getPrototypeOf(window.Int32Array);export var istypedarray=function(obj){return obj instanceof TypedArray};export var isinstanceof=function(obj,classobj){return obj instanceof classobj};

//# sourceMappingURL=pyjsdl.pyjsarray.map