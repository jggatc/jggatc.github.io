$pyjs.loaded_modules["interphase.util"]=function(X){if($pyjs.loaded_modules["interphase.util"].__was_initialized__)return $pyjs.loaded_modules["interphase.util"];"undefined"!=typeof $pyjs.loaded_modules.interphase&&$pyjs.loaded_modules.interphase.__was_initialized__||$p.___import___("interphase",null);var k=$pyjs.loaded_modules["interphase.util"];k.__repr__=function(){return"<module: interphase.util>"};k.__was_initialized__=!0;if(null===X||"undefined"==typeof X)X="interphase.util";k.__name__=X;$pyjs.loaded_modules.interphase.util=
$pyjs.loaded_modules["interphase.util"];k.os=$p.___import___("os","interphase");k.engine=$p.___import___("env.engine","interphase",null,!1);k.__docformat__="restructuredtext";k.Text=function(){var l={},g;l.__module__="interphase.util";l._font=$p.dict([]);l._cache=$p.dict([]);g=$pyjs__bind_method2("__init__",function(a,d,c){if(!0===this.__is_instance__)var b=this;else b=arguments[0],a=arguments[1],d=arguments[2],c=arguments[3];"undefined"==typeof d&&(d=arguments.callee.__args__[4][1]);"undefined"==
typeof c&&(c=arguments.callee.__args__[5][1]);var e,f,h,s,r,m,n,p,q,K,z,g,x,u,w,t,v,y,A,l,G,B,E,C,I,D,J,H,S,O,W,N,L,P;b.screen=a;var U=$p.__ass_unpack(b.screen.get_size(),2,null);b.dimension=$p.dict([["x",U[0]],["y",U[1]]]);b.message=null;b.messages=$p.list([]);(null===(x=c)||!1===x||0===x||""===x?0:"object"==typeof x?"function"==typeof x.__nonzero__?x.__nonzero__():"function"==typeof x.__len__?0<x.__len__():1:1)?b.font_size=$p.float_int(c):b.font_size=10;if(null===(z=$p.isinstance(d,$p.str))||!1===
z||0===z||""===z?0:"object"==typeof z?"function"==typeof z.__nonzero__?z.__nonzero__():"function"==typeof z.__len__?0<z.__len__():1:1)d=$p.list([d]);if(null===(t=!(null===(g=k.Text._font)||!1===g||0===g||""===g?0:"object"==typeof g?"function"==typeof g.__nonzero__?g.__nonzero__():"function"==typeof g.__len__?0<g.__len__():1:1))||!1===t||0===t||""===t?0:"object"==typeof t?"function"==typeof t.__nonzero__?t.__nonzero__():"function"==typeof t.__len__?0<t.__len__():1:1){k.engine.font.init();z=null;if(null===
(v=d)||!1===v||0===v||""===v?0:"object"==typeof v?"function"==typeof v.__nonzero__?v.__nonzero__():"function"==typeof v.__len__?0<v.__len__():1:1)if(d=",".join(d),null===(u=d.startswith("file:"))||!1===u||0===u||""===u?0:"object"==typeof u?"function"==typeof u.__nonzero__?u.__nonzero__():"function"==typeof u.__len__?0<u.__len__():1:1){if(z=$p.__getslice(d,5,null).strip(),null===(y=!(null===(w=k.os.path.exists(z))||!1===w||0===w||""===w?0:"object"==typeof w?"function"==typeof w.__nonzero__?w.__nonzero__():
"function"==typeof w.__len__?0<w.__len__():1:1))||!1===y||0===y||""===y?0:"object"==typeof y?"function"==typeof y.__nonzero__?y.__nonzero__():"function"==typeof y.__len__?0<y.__len__():1:1)z=null}else z=k.engine.font.match_font(d);if(null===(h=!(null===(A=z)||!1===A||0===A||""===A?0:"object"==typeof A?"function"==typeof A.__nonzero__?A.__nonzero__():"function"==typeof A.__len__?0<A.__len__():1:1))||!1===h||0===h||""===h?0:"object"==typeof h?"function"==typeof h.__nonzero__?h.__nonzero__():"function"==
typeof h.__len__?0<h.__len__():1:1)if(d="verdana, tahoma, bitstreamverasans, freesans, arial",z=k.engine.font.match_font(d),null===(r=!(null===(s=z)||!1===s||0===s||""===s?0:"object"==typeof s?"function"==typeof s.__nonzero__?s.__nonzero__():"function"==typeof s.__len__?0<s.__len__():1:1))||!1===r||0===r||""===r?0:"object"==typeof r?"function"==typeof r.__nonzero__?r.__nonzero__():"function"==typeof r.__len__?0<r.__len__():1:1)d=z=k.engine.font.get_default_font();k.Text._font.__setitem__("default",
z);k.Text._font.__setitem__("defaults",d);k.Text._font.__setitem__(z,$p.dict([[b.font_size,k.engine.font.Font(z,b.font_size)]]));d=null}if(null===(m=d)||!1===m||0===m||""===m?0:"object"==typeof m?"function"==typeof m.__nonzero__?m.__nonzero__():"function"==typeof m.__len__?0<m.__len__():1:1)if(d=",".join(d),null===(n=!((L=d)===(N="undefined"!=typeof(C=k.Text._font).__array?"undefined"!=typeof C.__array.defaults?C.__array.defaults:C.__getitem__("defaults"):C.__getitem__("defaults"))&&null===L||(null===
L?0:null===N?0:"object"!=typeof L&&"function"!=typeof L||"function"!=typeof L.__cmp__?"object"!=typeof N&&"function"!=typeof N||"function"!=typeof N.__cmp__?L==N:0===N.__cmp__(L):0===L.__cmp__(N))))||!1===n||0===n||""===n?0:"object"==typeof n?"function"==typeof n.__nonzero__?n.__nonzero__():"function"==typeof n.__len__?0<n.__len__():1:1){if(null===(p=d.startswith("file:"))||!1===p||0===p||""===p?0:"object"==typeof p?"function"==typeof p.__nonzero__?p.__nonzero__():"function"==typeof p.__len__?0<p.__len__():
1:1){if(d=$p.__getslice(d,5,null).strip(),null===(K=!(null===(q=k.os.path.exists(d))||!1===q||0===q||""===q?0:"object"==typeof q?"function"==typeof q.__nonzero__?q.__nonzero__():"function"==typeof q.__len__?0<q.__len__():1:1))||!1===K||0===K||""===K?0:"object"==typeof K?"function"==typeof K.__nonzero__?K.__nonzero__():"function"==typeof K.__len__?0<K.__len__():1:1)d=null}else d=k.engine.font.match_font(d);(null===(e=d)||!1===e||0===e||""===e?0:"object"==typeof e?"function"==typeof e.__nonzero__?e.__nonzero__():
"function"==typeof e.__len__?0<e.__len__():1:1)?(null===(f=!k.Text._font.__contains__(d))||!1===f||0===f||""===f?0:"object"==typeof f?"function"==typeof f.__nonzero__?f.__nonzero__():"function"==typeof f.__len__?0<f.__len__():1:1)&&k.Text._font.__setitem__(d,$p.dict([[b.font_size,k.engine.font.Font(d,b.font_size)]])):d="undefined"!=typeof(E=k.Text._font).__array?"undefined"!=typeof E.__array["default"]?E.__array["default"]:E.__getitem__("default"):E.__getitem__("default")}else d="undefined"!=typeof(B=
k.Text._font).__array?"undefined"!=typeof B.__array["default"]?B.__array["default"]:B.__getitem__("default"):B.__getitem__("default");else d="undefined"!=typeof(G=k.Text._font).__array?"undefined"!=typeof G.__array["default"]?G.__array["default"]:G.__getitem__("default"):G.__getitem__("default");(null===(l=!("undefined"!=typeof(P=k.Text._font).__array?"undefined"!=typeof P.__array[H=d]?P.__array[H]:P.__getitem__(H):P.__getitem__(d)).__contains__(b.font_size))||!1===l||0===l||""===l?0:"object"==typeof l?
"function"==typeof l.__nonzero__?l.__nonzero__():"function"==typeof l.__len__?0<l.__len__():1:1)&&("undefined"!=typeof(S=k.Text._font).__array?"undefined"!=typeof S.__array[O=d]?S.__array[O]:S.__getitem__(O):S.__getitem__(d)).__setitem__(b.font_size,k.engine.font.Font(d,b.font_size));b.font_type=d;b.font="undefined"!=typeof(W=k.Text._font).__array?"undefined"!=typeof W.__array[I=b.font_type]?W.__array[I]:W.__getitem__(I):W.__getitem__(b.font_type);b.x=0;b.y=0;b.center=!1;b.font_color=$p.tuple([255,
0,0]);b.font_bgcolor=$p.tuple([0,0,0]);b.split_text=!1;b.linesize=("undefined"!=typeof(D=b.font).__array?"undefined"!=typeof D.__array[J=b.font_size]?D.__array[J]:D.__getitem__(J):D.__getitem__(b.font_size)).get_linesize();b.margin=$p.dict([["t",0],["r",0],["b",0],["l",0]]);b.multiline=!1;b.cache=null;return b.cache_key=null},1,[null,null,["self"],["surface"],["font_type",null],["font_size",null]]);l.__init__=g;g=$pyjs__bind_method2("__call__",function(a){if(!0===this.__is_instance__)var d=this;else d=
arguments[0],a=arguments[1];"undefined"==typeof a&&(a=arguments.callee.__args__[3][1]);var c,b;(null===(b="default"===(c=a)&&null===c?!0:null===c?!1:"object"!=typeof c&&"function"!=typeof c||"function"!=typeof c.__cmp__?"default"==c:0===c.__cmp__("default"))||!1===b||0===b||""===b?0:"object"==typeof b?"function"==typeof b.__nonzero__?b.__nonzero__():"function"==typeof b.__len__?0<b.__len__():1:1)?d.surface=d.screen:d.surface=a;d.update();return d.surface},1,[null,null,["self"],["surface","default"]]);
l.__call__=g;g=$pyjs__bind_method2("render",function(a){if(!0===this.__is_instance__)var d=this;else d=arguments[0],a=arguments[1];"undefined"==typeof a&&(a=arguments.callee.__args__[3][1]);var c,b;(null===(b="default"===(c=a)&&null===c?!0:null===c?!1:"object"!=typeof c&&"function"!=typeof c||"function"!=typeof c.__cmp__?"default"==c:0===c.__cmp__("default"))||!1===b||0===b||""===b?0:"object"==typeof b?"function"==typeof b.__nonzero__?b.__nonzero__():"function"==typeof b.__len__?0<b.__len__():1:1)?
d.surface=d.screen:d.surface=a;d.update();return d.surface},1,[null,null,["self"],["surface","default"]]);l.render=g;g=$pyjs__bind_method2("add",function(){if(!0===this.__is_instance__)var a=this,d=$p.tuple($pyjs_array_slice.call(arguments,0,arguments.length));else a=arguments[0],d=$p.tuple($pyjs_array_slice.call(arguments,1,arguments.length));var c,b,e,f;b=d;"undefined"!=typeof(e=b.__array)?d=0:(b=b.__iter__(),d="undefined"!=typeof(e=b.__array)?0:"function"==typeof b.$genfunc?1:-1);for(f=0;"undefined"!=
typeof(c=d?0<d?b.next(!0,!1):$p.wrapped_next(b):e[f++]);)a.message=$p.str(c),a.messages.append(a.message);return null},1,["message_append",null,["self"]]);l.add=g;g=$pyjs__bind_method2("set_position",function(a,d){if(!0===this.__is_instance__)var c=this;else c=arguments[0],a=arguments[1],d=arguments[2];"undefined"==typeof d&&(d=arguments.callee.__args__[4][1]);var b,e,f,h,s,r,m,n,p,q;p=$p.__ass_unpack(a,2,null);q=p[0];p=p[1];if(null===(e=(null===(f=s=-1==(q===(m="undefined"!=typeof(r=c.dimension).__array?
"undefined"!=typeof r.__array.x?r.__array.x:r.__getitem__("x"):r.__getitem__("x"))?0:typeof q!=typeof m||"number"!=typeof q&&"string"!=typeof q&&"boolean"!=typeof q?$p.cmp(q,m):q==m?0:q<m?-1:1))||!1===f||0===f||""===f?0:"object"==typeof f?"function"==typeof f.__nonzero__?f.__nonzero__():"function"==typeof f.__len__?0<f.__len__():1:1)?-1==(p===(h="undefined"!=typeof(n=c.dimension).__array?"undefined"!=typeof n.__array.y?n.__array.y:n.__getitem__("y"):n.__getitem__("y"))?0:typeof p!=typeof h||"number"!=
typeof p&&"string"!=typeof p&&"boolean"!=typeof p?$p.cmp(p,h):p==h?0:p<h?-1:1):s)||!1===e||0===e||""===e?0:"object"==typeof e?"function"==typeof e.__nonzero__?e.__nonzero__():"function"==typeof e.__len__?0<e.__len__():1:1){c.x=q;c.y=p;if(null===(b=d)||!1===b||0===b||""===b?0:"object"==typeof b?"function"==typeof b.__nonzero__?b.__nonzero__():"function"==typeof b.__len__?0<b.__len__():1:1)c.center=!0;return!0}return!1},1,[null,null,["self"],["position"],["center",!1]]);l.set_position=g;g=$pyjs__bind_method2("set_text_alignment",
function(a,d){if(!0===this.__is_instance__)var c=this;else c=a,a=d;var b,e,f,h;if(null===(h="center"===(e=a)&&null===e?!0:null===e?!1:"object"!=typeof e&&"function"!=typeof e||"function"!=typeof e.__cmp__?"center"==e:0===e.__cmp__("center"))||!1===h||0===h||""===h?0:"object"==typeof h?"function"==typeof h.__nonzero__?h.__nonzero__():"function"==typeof h.__len__?0<h.__len__():1:1)c.center=!0;else if(null===(f="left"===(b=a)&&null===b?!0:null===b?!1:"object"!=typeof b&&"function"!=typeof b||"function"!=
typeof b.__cmp__?"left"==b:0===b.__cmp__("left"))||!1===f||0===f||""===f?0:"object"==typeof f?"function"==typeof f.__nonzero__?f.__nonzero__():"function"==typeof f.__len__?0<f.__len__():1:1)c.center=!1;return null},1,[null,null,["self"],["setting"]]);l.set_text_alignment=g;g=$pyjs__bind_method2("set_margin",function(a,d){if(!0===this.__is_instance__)var c=this;else c=a,a=d;var b;try{b=$p.__ass_unpack(a,4,null),c.margin.__setitem__("t",b[0]),c.margin.__setitem__("r",b[1]),c.margin.__setitem__("b",
b[2]),c.margin.__setitem__("l",b[3])}catch(e){if(b="undefined"==typeof e.__name__?e.name:e.__name__,$pyjs.__last_exception__={error:e,module:k},b==$p.TypeError.__name__||$p._isinstance(e,$p.TypeError))b=a,c.margin.__setitem__("t",b),c.margin.__setitem__("r",b),c.margin.__setitem__("b",b),c.margin.__setitem__("l",b);else throw $pyjs.__active_exception_stack__=$pyjs.__last_exception_stack__,$pyjs.__last_exception_stack__=null,e;}return null},1,[null,null,["self"],["margin"]]);l.set_margin=g;g=$pyjs__bind_method2("set_multiline",
function(a){if(!0===this.__is_instance__)var d=this;else d=arguments[0],a=arguments[1];"undefined"==typeof a&&(a=arguments.callee.__args__[3][1]);d.multiline=a;return null},1,[null,null,["self"],["multiline",!0]]);l.set_multiline=g;g=$pyjs__bind_method2("set_font",function(a,d){if(!0===this.__is_instance__)var c=this;else c=arguments[0],a=arguments[1],d=arguments[2];"undefined"==typeof d&&(d=arguments.callee.__args__[4][1]);var b,e,f,h,s,r,m,n,p,q,g,z,l,x,u,w,t,v,y,A;if(null===(q=$p.isinstance(a,
$p.str))||!1===q||0===q||""===q?0:"object"==typeof q?"function"==typeof q.__nonzero__?q.__nonzero__():"function"==typeof q.__len__?0<q.__len__():1:1)a=$p.list([a]);a=",".join(a);if(null===(p="default"===(b=a)&&null===b?!0:null===b?!1:"object"!=typeof b&&"function"!=typeof b||"function"!=typeof b.__cmp__?"default"==b:0===b.__cmp__("default"))||!1===p||0===p||""===p?0:"object"==typeof p?"function"==typeof p.__nonzero__?p.__nonzero__():"function"==typeof p.__len__?0<p.__len__():1:1)a="undefined"!=typeof(s=
k.Text._font).__array?"undefined"!=typeof s.__array["default"]?s.__array["default"]:s.__getitem__("default"):s.__getitem__("default"),c.font="undefined"!=typeof(A=k.Text._font).__array?"undefined"!=typeof A.__array[m=a]?A.__array[m]:A.__getitem__(m):A.__getitem__(a),c.font_type=a;else if(null===(u=!((e=a)===(f="undefined"!=typeof(r=k.Text._font).__array?"undefined"!=typeof r.__array.defaults?r.__array.defaults:r.__getitem__("defaults"):r.__getitem__("defaults"))&&null===e||(null===e?0:null===f?0:
"object"!=typeof e&&"function"!=typeof e||"function"!=typeof e.__cmp__?"object"!=typeof f&&"function"!=typeof f||"function"!=typeof f.__cmp__?e==f:0===f.__cmp__(e):0===e.__cmp__(f))))||!1===u||0===u||""===u?0:"object"==typeof u?"function"==typeof u.__nonzero__?u.__nonzero__():"function"==typeof u.__len__?0<u.__len__():1:1){if(null===(w=a.startswith("file:"))||!1===w||0===w||""===w?0:"object"==typeof w?"function"==typeof w.__nonzero__?w.__nonzero__():"function"==typeof w.__len__?0<w.__len__():1:1){if(b=
$p.__getslice(a,5,null).strip(),null===(h=!(null===(x=k.os.path.exists(b))||!1===x||0===x||""===x?0:"object"==typeof x?"function"==typeof x.__nonzero__?x.__nonzero__():"function"==typeof x.__len__?0<x.__len__():1:1))||!1===h||0===h||""===h?0:"object"==typeof h?"function"==typeof h.__nonzero__?h.__nonzero__():"function"==typeof h.__len__?0<h.__len__():1:1)b=null}else b=k.engine.font.match_font(a);if(null===(v=b)||!1===v||0===v||""===v?0:"object"==typeof v?"function"==typeof v.__nonzero__?v.__nonzero__():
"function"==typeof v.__len__?0<v.__len__():1:1)if((null===(y=!k.Text._font.__contains__(b))||!1===y||0===y||""===y?0:"object"==typeof y?"function"==typeof y.__nonzero__?y.__nonzero__():"function"==typeof y.__len__?0<y.__len__():1:1)&&k.Text._font.__setitem__(b,$p.dict([[c.font_size,k.engine.font.Font(b,c.font_size)]])),c.font="undefined"!=typeof(n=k.Text._font).__array?"undefined"!=typeof n.__array[z=b]?n.__array[z]:n.__getitem__(z):n.__getitem__(b),c.font_type=b,null===(t=d)||!1===t||0===t||""===
t?0:"object"==typeof t?"function"==typeof t.__nonzero__?t.__nonzero__():"function"==typeof t.__len__?0<t.__len__():1:1)k.Text._font.__setitem__("default",b),k.Text._font.__setitem__("defaults",a)}c.linesize=("undefined"!=typeof(g=c.font).__array?"undefined"!=typeof g.__array[l=c.font_size]?g.__array[l]:g.__getitem__(l):g.__getitem__(c.font_size)).get_linesize();return c.cache=null},1,[null,null,["self"],["font_type"],["$$default",!1]]);l.set_font=g;g=$pyjs__bind_method2("get_font",function(a){if(!0===
this.__is_instance__)var d=this;else d=arguments[0],a=arguments[1];"undefined"==typeof a&&(a=arguments.callee.__args__[3][1]);var c,b,e,f,h,s,r;return(null===(e="font"===(s=a)&&null===s?!0:null===s?!1:"object"!=typeof s&&"function"!=typeof s||"function"!=typeof s.__cmp__?"font"==s:0===s.__cmp__("font"))||!1===e||0===e||""===e?0:"object"==typeof e?"function"==typeof e.__nonzero__?e.__nonzero__():"function"==typeof e.__len__?0<e.__len__():1:1)?d.font_type:(null===(f="default"===(r=a)&&null===r?!0:null===
r?!1:"object"!=typeof r&&"function"!=typeof r||"function"!=typeof r.__cmp__?"default"==r:0===r.__cmp__("default"))||!1===f||0===f||""===f?0:"object"==typeof f?"function"==typeof f.__nonzero__?f.__nonzero__():"function"==typeof f.__len__?0<f.__len__():1:1)?"undefined"!=typeof(c=k.Text._font).__array?"undefined"!=typeof c.__array["default"]?c.__array["default"]:c.__getitem__("default"):c.__getitem__("default"):(null===(h="system"===(b=a)&&null===b?!0:null===b?!1:"object"!=typeof b&&"function"!=typeof b||
"function"!=typeof b.__cmp__?"system"==b:0===b.__cmp__("system"))||!1===h||0===h||""===h?0:"object"==typeof h?"function"==typeof h.__nonzero__?h.__nonzero__():"function"==typeof h.__len__?0<h.__len__():1:1)?k.engine.font.get_fonts():null},1,[null,null,["self"],["font_info","font"]]);l.get_font=g;g=$pyjs__bind_method2("get_font_size",function(a){return(!0===this.__is_instance__?this:a).font_size},1,[null,null,["self"]]);l.get_font_size=g;g=$pyjs__bind_method2("set_font_size",function(a,d){if(!0===
this.__is_instance__)var c=this;else c=a,a=d;var b,e,f,h,s,r,m,n,p;c.font_size=a;(null===(e=!("undefined"!=typeof(r=k.Text._font).__array?"undefined"!=typeof r.__array[p=c.font_type]?r.__array[p]:r.__getitem__(p):r.__getitem__(c.font_type)).__contains__(a))||!1===e||0===e||""===e?0:"object"==typeof e?"function"==typeof e.__nonzero__?e.__nonzero__():"function"==typeof e.__len__?0<e.__len__():1:1)&&("undefined"!=typeof(s=k.Text._font).__array?"undefined"!=typeof s.__array[m=c.font_type]?s.__array[m]:
s.__getitem__(m):s.__getitem__(c.font_type)).__setitem__(c.font_size,k.engine.font.Font(c.font_type,c.font_size));c.font="undefined"!=typeof(n=k.Text._font).__array?"undefined"!=typeof n.__array[f=c.font_type]?n.__array[f]:n.__getitem__(f):n.__getitem__(c.font_type);c.linesize=("undefined"!=typeof(h=c.font).__array?"undefined"!=typeof h.__array[b=c.font_size]?h.__array[b]:h.__getitem__(b):h.__getitem__(c.font_size)).get_linesize();return c.cache=null},1,[null,null,["self"],["size"]]);l.set_font_size=
g;g=$pyjs__bind_method2("set_font_color",function(a,d){if(!0===this.__is_instance__)var c=this;else c=a,a=d;c.font_color=a;return c.cache=null},1,[null,null,["self"],["color"]]);l.set_font_color=g;g=$pyjs__bind_method2("set_font_bgcolor",function(a){if(!0===this.__is_instance__)var d=this;else d=arguments[0],a=arguments[1];"undefined"==typeof a&&(a=arguments.callee.__args__[3][1]);d.font_bgcolor=a;return d.cache=null},1,[null,null,["self"],["color",null]]);l.set_font_bgcolor=g;g=$pyjs__bind_method2("set_split_text",
function(a){if(!0===this.__is_instance__)var d=this;else d=arguments[0],a=arguments[1];"undefined"==typeof a&&(a=arguments.callee.__args__[3][1]);d.split_text=a;return null},1,[null,null,["self"],["split_text",!0]]);l.set_split_text=g;g=$pyjs__bind_method2("check_size",function(a,d){if(!0===this.__is_instance__)var c=this;else c=a,a=d;var b,e,c=$p.__ass_unpack(("undefined"!=typeof(e=c.font).__array?"undefined"!=typeof e.__array[b=c.font_size]?e.__array[b]:e.__getitem__(b):e.__getitem__(c.font_size)).size(a),
2,null);return $p.tuple([c[0],c[1]])},1,[null,null,["self"],["text"]]);l.check_size=g;g=$pyjs__bind_method2("check_sizes",function(a,d){if(!0===this.__is_instance__)var c=this;else c=a,a=d;var b,e,f,h,s,r;s=$p.dict([]);f=a;"undefined"!=typeof(r=f.__array)?e=0:(f=f.__iter__(),e="undefined"!=typeof(r=f.__array)?0:"function"==typeof f.$genfunc?1:-1);for(h=0;"undefined"!=typeof(b=e?0<e?f.next(!0,!1):$p.wrapped_next(f):r[h++]);)s.__setitem__(b,c.check_size(b));return s},1,[null,null,["self"],["texts"]]);
l.check_sizes=g;g=$pyjs__bind_method2("surface_size",function(){if(!0===this.__is_instance__)var a=this,d=$p.tuple($pyjs_array_slice.call(arguments,0,arguments.length));else a=arguments[0],d=$p.tuple($pyjs_array_slice.call(arguments,1,arguments.length));var c,b,e,f,h,s,r,m,n,p,q;try{var g=$p.__ass_unpack($p.tuple(["undefined"!=typeof(e=d).__array?"undefined"!=typeof e.__array[0]?e.__array[0]:e.__getitem__(0):e.__getitem__(0),"undefined"!=typeof(h=d).__array?"undefined"!=typeof h.__array[1]?h.__array[1]:
h.__getitem__(1):h.__getitem__(1)]),2,null);p=g[0];c=g[1]}catch(z){if(c="undefined"==typeof z.__name__?z.name:z.__name__,$pyjs.__last_exception__={error:z,module:k},c==$p.IndexError.__name__||$p._isinstance(z,$p.IndexError))c=$p.__ass_unpack("undefined"!=typeof(f=d).__array?"undefined"!=typeof f.__array[0]?f.__array[0]:f.__getitem__(0):f.__getitem__(0),2,null),p=c[0],c=c[1];else throw $pyjs.__active_exception_stack__=$pyjs.__last_exception_stack__,$pyjs.__last_exception_stack__=null,z;}var l;e=$p.list();
h="abcdefghijklmnopqrstuvwxyz ";"undefined"!=typeof(g=h.__array)?d=0:(h=h.__iter__(),d="undefined"!=typeof(g=h.__array)?0:"function"==typeof h.$genfunc?1:-1);for(f=0;"undefined"!=typeof(l=d?0<d?h.next(!0,!1):$p.wrapped_next(h):g[f++]);)e.append("undefined"!=typeof(s=a.check_size(l)).__array?"undefined"!=typeof s.__array[0]?s.__array[0]:s.__getitem__(0):s.__getitem__(0));s=e;s=Math.floor($p.sum(s)/(null===(b=s)?0:"undefined"!=typeof b.__array?b.__array.length:"function"==typeof b.__len__?b.__len__():
"undefined"!=typeof b.length?b.length:$p.len(b)));b=p*s+(("undefined"!=typeof(m=a.margin).__array?"undefined"!=typeof m.__array.l?m.__array.l:m.__getitem__("l"):m.__getitem__("l"))+("undefined"!=typeof(n=a.margin).__array?"undefined"!=typeof n.__array.r?n.__array.r:n.__getitem__("r"):n.__getitem__("r")));a=c*a.linesize-2+(("undefined"!=typeof(r=a.margin).__array?"undefined"!=typeof r.__array.t?r.__array.t:r.__getitem__("t"):r.__getitem__("t"))+("undefined"!=typeof(q=a.margin).__array?"undefined"!=
typeof q.__array.b?q.__array.b:q.__getitem__("b"):q.__getitem__("b")));return $p.tuple([b,a])},1,["dim",null,["self"]]);l.surface_size=g;g=$pyjs__bind_method2("word_wrap",function(a,d,c){if(!0===this.__is_instance__)var b=this;else b=a,a=d,d=c;var e,f,h,s,r,m,n,p,q,g,z,l,x,u,w,t,v,y,A,R,G,B,E,C,I,D,J;d-=("undefined"!=typeof(C=b.margin).__array?"undefined"!=typeof C.__array.l?C.__array.l:C.__getitem__("l"):C.__getitem__("l"))+("undefined"!=typeof(m=b.margin).__array?"undefined"!=typeof m.__array.r?
m.__array.r:m.__getitem__("r"):m.__getitem__("r"));if(!(null===(v=$p.isinstance(a,$p.list))||!1===v||0===v||""===v?0:"object"==typeof v?"function"==typeof v.__nonzero__?v.__nonzero__():"function"==typeof v.__len__?0<v.__len__():1:1)){m=$p.list();c=a.splitlines();"undefined"!=typeof(C=c.__array)?v=0:(c=c.__iter__(),v="undefined"!=typeof(C=c.__array)?0:"function"==typeof c.$genfunc?1:-1);for(a=0;"undefined"!=typeof(E=v?0<v?c.next(!0,!1):$p.wrapped_next(c):C[a++]);)m.append(E);a=m}m=$p.list([]);C=0;
for(v="undefined"!=typeof(f=b.check_size(" ")).__array?"undefined"!=typeof f.__array[0]?f.__array[0]:f.__getitem__(0):f.__getitem__(0);!0!==0&&!0!=="";){try{R="undefined"!=typeof(q=a).__array?"undefined"!=typeof q.__array[z=C]?q.__array[z]:q.__getitem__(z):q.__getitem__(C)}catch(H){if(b="undefined"==typeof H.__name__?H.name:H.__name__,$pyjs.__last_exception__={error:H,module:k},b==$p.IndexError.__name__||$p._isinstance(H,$p.IndexError))break;else throw $pyjs.__active_exception_stack__=$pyjs.__last_exception_stack__,
$pyjs.__last_exception_stack__=null,H;}if(null===(t=1==((G="undefined"!=typeof(g=b.check_size(R)).__array?"undefined"!=typeof g.__array[0]?g.__array[0]:g.__getitem__(0):g.__getitem__(0))===(B=d)?0:typeof G!=typeof B||"number"!=typeof G&&"string"!=typeof G&&"boolean"!=typeof G?$p.cmp(G,B):G==B?0:G<B?-1:1))||!1===t||0===t||""===t?0:"object"==typeof t?"function"==typeof t.__nonzero__?t.__nonzero__():"function"==typeof t.__len__?0<t.__len__():1:1){h=R.$$split(" ");E=$p.list([]);f=c=0;"undefined"!=typeof(p=
h.__array)?s=0:(h=h.__iter__(),s="undefined"!=typeof(p=h.__array)?0:"function"==typeof h.$genfunc?1:-1);for(r=0;"undefined"!=typeof(e=s?0<s?h.next(!0,!1):$p.wrapped_next(h):p[r++]);)if(J="undefined"!=typeof(n=b.check_size(e)).__array?"undefined"!=typeof n.__array[0]?n.__array[0]:n.__getitem__(0):n.__getitem__(0),null===(w=1==((y=J)===(D=d)?0:typeof y!=typeof D||"number"!=typeof y&&"string"!=typeof y&&"boolean"!=typeof y?$p.cmp(y,D):y==D?0:y<D?-1:1))||!1===w||0===w||""===w?0:"object"==typeof w?"function"==
typeof w.__nonzero__?w.__nonzero__():"function"==typeof w.__len__?0<w.__len__():1:1){e=b.split_long_text(e,d);if(null===(u=E)||!1===u||0===u||""===u?0:"object"==typeof u?"function"==typeof u.__nonzero__?u.__nonzero__():"function"==typeof u.__len__?0<u.__len__():1:1)m.append(" ".join(E)),E=$p.list([]),f=c=0;m.extend(e)}else c+=J,(null===(x=1>((I=c+f*v)===(A=d)?0:typeof I!=typeof A||"number"!=typeof I&&"string"!=typeof I&&"boolean"!=typeof I?$p.cmp(I,A):I==A?0:I<A?-1:1))||!1===x||0===x||""===x?0:"object"==
typeof x?"function"==typeof x.__nonzero__?x.__nonzero__():"function"==typeof x.__len__?0<x.__len__():1:1)?(E.append(e),f+=1):(m.append(" ".join(E)),E=$p.list([]),E.append(e),c=J,f=1);(null===(l=E)||!1===l||0===l||""===l?0:"object"==typeof l?"function"==typeof l.__nonzero__?l.__nonzero__():"function"==typeof l.__len__?0<l.__len__():1:1)&&m.append(" ".join(E))}else m.append(R);C+=1}return m},1,[null,null,["self"],["text"],["width"]]);l.word_wrap=g;g=$pyjs__bind_method2("split_long_text",function(a,
d,c){if(!0===this.__is_instance__)var b=this;else b=a,a=d,d=c;var e,f,h,s,g,m,n,p,q,k,l,F,x,u,w,t;h=b.check_sizes($p.set(a));c=$p.list([]);g=$p.list([]);b=0;f=a;"undefined"!=typeof(p=f.__array)?a=0:(f=f.__iter__(),a="undefined"!=typeof(p=f.__array)?0:"function"==typeof f.$genfunc?1:-1);for(s=0;"undefined"!=typeof(e=a?0<a?f.next(!0,!1):$p.wrapped_next(f):p[s++]);)b+="undefined"!=typeof(F="undefined"!=typeof(x=h).__array?"undefined"!=typeof x.__array[l=e]?x.__array[l]:x.__getitem__(l):x.__getitem__(e)).__array?
"undefined"!=typeof F.__array[0]?F.__array[0]:F.__getitem__(0):F.__getitem__(0),(null===(n=1>((q=b)===(k=d)?0:typeof q!=typeof k||"number"!=typeof q&&"string"!=typeof q&&"boolean"!=typeof q?$p.cmp(q,k):q==k?0:q<k?-1:1))||!1===n||0===n||""===n?0:"object"==typeof n?"function"==typeof n.__nonzero__?n.__nonzero__():"function"==typeof n.__len__?0<n.__len__():1:1)?g.append(e):(c.append("".join(g)),g=$p.list([]),g.append(e),b="undefined"!=typeof(w="undefined"!=typeof(t=h).__array?"undefined"!=typeof t.__array[u=
e]?t.__array[u]:t.__getitem__(u):t.__getitem__(e)).__array?"undefined"!=typeof w.__array[0]?w.__array[0]:w.__getitem__(0):w.__getitem__(0));(null===(m=g)||!1===m||0===m||""===m?0:"object"==typeof m?"function"==typeof m.__nonzero__?m.__nonzero__():"function"==typeof m.__len__?0<m.__len__():1:1)&&c.append("".join(g));return c},1,[null,null,["self"],["text"],["width"]]);l.split_long_text=g;g=$pyjs__bind_method2("has_text",function(a){var d;return(null===(d=(!0===this.__is_instance__?this:a).messages)||
!1===d||0===d||""===d?0:"object"==typeof d?"function"==typeof d.__nonzero__?d.__nonzero__():"function"==typeof d.__len__?0<d.__len__():1:1)?!0:!1},1,[null,null,["self"]]);l.has_text=g;g=$pyjs__bind_method2("clear_text",function(a){a=!0===this.__is_instance__?this:a;a.message=null;a.messages=$p.list([]);return null},1,[null,null,["self"]]);l.clear_text=g;g=$pyjs__bind_method2("_cache_chr",function(a,d){if(!0===this.__is_instance__)var c=this;else c=a,a=d;var b,e,f,h,g,r,m,n,p;p=(null===(b=c.font_bgcolor)||
!1===b||0===b||""===b?0:"object"==typeof b?"function"==typeof b.__nonzero__?b.__nonzero__():"function"==typeof b.__len__?0<b.__len__():1:1)?("undefined"!=typeof(n=c.font).__array?"undefined"!=typeof n.__array[m=c.font_size]?n.__array[m]:n.__getitem__(m):n.__getitem__(c.font_size)).render(a,!0,c.font_color,c.font_bgcolor):("undefined"!=typeof(r=c.font).__array?"undefined"!=typeof r.__array[g=c.font_size]?r.__array[g]:r.__getitem__(g):r.__getitem__(c.font_size)).render(a,!0,c.font_color);try{c.cache.__setitem__(a,
$p.dict([["image",p],["width",p.get_width()]]))}catch(q){if(b="undefined"==typeof q.__name__?q.name:q.__name__,$pyjs.__last_exception__={error:q,module:k},b==$p.TypeError.__name__||$p._isinstance(q,$p.TypeError))c.cache_key=c.font_type+$p.str(c.font_size)+$p.str(c.font_color)+$p.str(c.font_bgcolor),(null===(e=!c._cache.__contains__(c.cache_key))||!1===e||0===e||""===e?0:"object"==typeof e?"function"==typeof e.__nonzero__?e.__nonzero__():"function"==typeof e.__len__?0<e.__len__():1:1)&&c._cache.__setitem__(c.cache_key,
$p.dict([])),c.cache="undefined"!=typeof(h=c._cache).__array?"undefined"!=typeof h.__array[f=c.cache_key]?h.__array[f]:h.__getitem__(f):h.__getitem__(c.cache_key),c.cache.__setitem__(a,$p.dict([["image",p],["width",p.get_width()]]));else throw $pyjs.__active_exception_stack__=$pyjs.__last_exception_stack__,$pyjs.__last_exception_stack__=null,q;}return null},1,[null,null,["self"],["ch"]]);l._cache_chr=g;g=$pyjs__bind_method2("_get_width",function(a,d){if(!0===this.__is_instance__)var c=this;else c=
a,a=d;var b,e,f,h,g,r,m,n,p,q,l,z;h=0;g=a;"undefined"!=typeof(z=g.__array)?r=0:(g=g.__iter__(),r="undefined"!=typeof(z=g.__array)?0:"function"==typeof g.$genfunc?1:-1);for(l=0;"undefined"!=typeof(b=r?0<r?g.next(!0,!1):$p.wrapped_next(g):z[l++]);)try{h+="undefined"!=typeof(n="undefined"!=typeof(q=c.cache).__array?"undefined"!=typeof q.__array[p=b]?q.__array[p]:q.__getitem__(p):q.__getitem__(b)).__array?"undefined"!=typeof n.__array.width?n.__array.width:n.__getitem__("width"):n.__getitem__("width")}catch(F){var x=
"undefined"==typeof F.__name__?F.name:F.__name__;$pyjs.__last_exception__={error:F,module:k};if(x==$p.KeyError.__name__||$p._isinstance(F,$p.KeyError)||x==$p.TypeError.__name__||$p._isinstance(F,$p.TypeError))c._cache_chr(b),h+="undefined"!=typeof(f="undefined"!=typeof(m=c.cache).__array?"undefined"!=typeof m.__array[e=b]?m.__array[e]:m.__getitem__(e):m.__getitem__(b)).__array?"undefined"!=typeof f.__array.width?f.__array.width:f.__getitem__("width"):f.__getitem__("width");else throw $pyjs.__active_exception_stack__=
$pyjs.__last_exception_stack__,$pyjs.__last_exception_stack__=null,F;}return h},1,[null,null,["self"],["text"]]);l._get_width=g;g=$pyjs__bind_method2("tprint",function(a){a=!0===this.__is_instance__?this:a;var d,c,b,e,f,h,g,r,m,n,p,q,k,l,F,x,u,w,t,v,y,A,R,G,B,E,C,I,D,J,H,S,O,W,N,L,P,U,T,V,Q,M;if(null===(B=!((e=a.messages)===(h=$p.list([]))&&null===e||(null===e?0:null===h?0:"object"!=typeof e&&"function"!=typeof e||"function"!=typeof e.__cmp__?"object"!=typeof h&&"function"!=typeof h||"function"!=
typeof h.__cmp__?e==h:0===h.__cmp__(e):0===e.__cmp__(h))))||!1===B||0===B||""===B?0:"object"==typeof B?"function"==typeof B.__nonzero__?B.__nonzero__():"function"==typeof B.__len__?0<B.__len__():1:1){if(null===(v=!(null===(t=a.cache)||!1===t||0===t||""===t?0:"object"==typeof t?"function"==typeof t.__nonzero__?t.__nonzero__():"function"==typeof t.__len__?0<t.__len__():1:1))||!1===v||0===v||""===v?0:"object"==typeof v?"function"==typeof v.__nonzero__?v.__nonzero__():"function"==typeof v.__len__?0<v.__len__():
1:1)a.cache_key=a.font_type+$p.str(a.font_size)+$p.str(a.font_color)+$p.str(a.font_bgcolor),(null===(y=!a._cache.__contains__(a.cache_key))||!1===y||0===y||""===y?0:"object"==typeof y?"function"==typeof y.__nonzero__?y.__nonzero__():"function"==typeof y.__len__?0<y.__len__():1:1)&&a._cache.__setitem__(a.cache_key,$p.dict([])),a.cache="undefined"!=typeof(H=a._cache).__array?"undefined"!=typeof H.__array[E=a.cache_key]?H.__array[E]:H.__getitem__(E):H.__getitem__(a.cache_key);if(null===(D=!(null===(A=
a.multiline)||!1===A||0===A||""===A?0:"object"==typeof A?"function"==typeof A.__nonzero__?A.__nonzero__():"function"==typeof A.__len__?0<A.__len__():1:1))||!1===D||0===D||""===D?0:"object"==typeof D?"function"==typeof D.__nonzero__?D.__nonzero__():"function"==typeof D.__len__?0<D.__len__():1:1)if(d=" ".join(a.messages),null===(N=(null===(L=q=!(null===(J=a.split_text)||!1===J||0===J||""===J?0:"object"==typeof J?"function"==typeof J.__nonzero__?J.__nonzero__():"function"==typeof J.__len__?0<J.__len__():
1:1))||!1===L||0===L||""===L?0:"object"==typeof L?"function"==typeof L.__nonzero__?L.__nonzero__():"function"==typeof L.__len__?0<L.__len__():1:1)?q:0===(f=d.strip().count(" "))&&null===f?!0:null===f?!1:"object"!=typeof f&&"function"!=typeof f||"function"!=typeof f.__cmp__?0==f:0===f.__cmp__(0))||!1===N||0===N||""===N?0:"object"==typeof N?"function"==typeof N.__nonzero__?N.__nonzero__():"function"==typeof N.__len__?0<N.__len__():1:1)for((null===(U=a.center)||!1===U||0===U||""===U?0:"object"==typeof U?
"function"==typeof U.__nonzero__?U.__nonzero__():"function"==typeof U.__len__?0<U.__len__():1:1)?(f=a._get_width(d),f=a.x-Math.floor(f/2)):f=a.x+("undefined"!=typeof(C=a.margin).__array?"undefined"!=typeof C.__array.l?C.__array.l:C.__getitem__("l"):C.__getitem__("l")),b=d,"undefined"!=typeof(l=b.__array)?g=0:(b=b.__iter__(),g="undefined"!=typeof(l=b.__array)?0:"function"==typeof b.$genfunc?1:-1),F=0;"undefined"!=typeof(u=g?0<g?b.next(!0,!1):$p.wrapped_next(b):l[F++]);)d=u,(null===(P=!a.cache.__contains__(d))||
!1===P||0===P||""===P?0:"object"==typeof P?"function"==typeof P.__nonzero__?P.__nonzero__():"function"==typeof P.__len__?0<P.__len__():1:1)&&a._cache_chr(d),a.surface.blit("undefined"!=typeof(G="undefined"!=typeof(I=a.cache).__array?"undefined"!=typeof I.__array[R=d]?I.__array[R]:I.__getitem__(R):I.__getitem__(d)).__array?"undefined"!=typeof G.__array.image?G.__array.image:G.__getitem__("image"):G.__getitem__("image"),$p.tuple([f,a.y])),f+="undefined"!=typeof(p="undefined"!=typeof(m=a.cache).__array?
"undefined"!=typeof m.__array[Q=d]?m.__array[Q]:m.__getitem__(Q):m.__getitem__(d)).__array?"undefined"!=typeof p.__array.width?p.__array.width:p.__getitem__("width"):p.__getitem__("width");else for(c=d.count(" "),m=a.y-c*Math.floor(a.linesize/2)-1,c=d.$$split(" "),c=$p.enumerate(c),"undefined"!=typeof(w=c.__array)?r=0:(c=c.__iter__(),r="undefined"!=typeof(w=c.__array)?0:"function"==typeof c.$genfunc?1:-1),W=0;"undefined"!=typeof(k=r?0<r?c.next(!0,!1):$p.wrapped_next(c):w[W++]);)for(k=$p.__ass_unpack(k,
2,null),p=k[0],d=k[1],(null===(V=a.center)||!1===V||0===V||""===V?0:"object"==typeof V?"function"==typeof V.__nonzero__?V.__nonzero__():"function"==typeof V.__len__?0<V.__len__():1:1)?(f=a._get_width(d),f=a.x-Math.floor(f/2)):f=a.x,p=m+p*a.linesize,k=d,"undefined"!=typeof(x=k.__array)?T=0:(k=k.__iter__(),T="undefined"!=typeof(x=k.__array)?0:"function"==typeof k.$genfunc?1:-1),S=0;"undefined"!=typeof(n=T?0<T?k.next(!0,!1):$p.wrapped_next(k):x[S++]);)d=n,(null===(g=!a.cache.__contains__(d))||!1===g||
0===g||""===g?0:"object"==typeof g?"function"==typeof g.__nonzero__?g.__nonzero__():"function"==typeof g.__len__?0<g.__len__():1:1)&&a._cache_chr(d),a.surface.blit("undefined"!=typeof(l="undefined"!=typeof(b=a.cache).__array?"undefined"!=typeof b.__array[F=d]?b.__array[F]:b.__getitem__(F):b.__getitem__(d)).__array?"undefined"!=typeof l.__array.image?l.__array.image:l.__getitem__("image"):l.__getitem__("image"),$p.tuple([f,p])),f+="undefined"!=typeof(O="undefined"!=typeof(M=a.cache).__array?"undefined"!=
typeof M.__array[u=d]?M.__array[u]:M.__getitem__(u):M.__getitem__(d)).__array?"undefined"!=typeof O.__array.width?O.__array.width:O.__getitem__("width"):O.__getitem__("width");else for(m=a.y+("undefined"!=typeof(d=a.margin).__array?"undefined"!=typeof d.__array.t?d.__array.t:d.__getitem__("t"):d.__getitem__("t")),l=$p.enumerate(a.messages),"undefined"!=typeof(g=l.__array)?F=0:(l=l.__iter__(),F="undefined"!=typeof(g=l.__array)?0:"function"==typeof l.$genfunc?1:-1),b=0;"undefined"!=typeof(u=F?0<F?l.next(!0,
!1):$p.wrapped_next(l):g[b++]);)for(u=$p.__ass_unpack(u,2,null),p=u[0],d=u[1],(null===(n=a.center)||!1===n||0===n||""===n?0:"object"==typeof n?"function"==typeof n.__nonzero__?n.__nonzero__():"function"==typeof n.__len__?0<n.__len__():1:1)?(f=a._get_width(d),f=a.x-Math.floor(f/2)):f=a.x+("undefined"!=typeof(r=a.margin).__array?"undefined"!=typeof r.__array.l?r.__array.l:r.__getitem__("l"):r.__getitem__("l")),p=m+p*a.linesize,O=d,"undefined"!=typeof(V=O.__array)?M=0:(O=O.__iter__(),M="undefined"!=
typeof(V=O.__array)?0:"function"==typeof O.$genfunc?1:-1),u=0;"undefined"!=typeof(R=M?0<M?O.next(!0,!1):$p.wrapped_next(O):V[u++]);)d=R,(null===(T=!a.cache.__contains__(d))||!1===T||0===T||""===T?0:"object"==typeof T?"function"==typeof T.__nonzero__?T.__nonzero__():"function"==typeof T.__len__?0<T.__len__():1:1)&&a._cache_chr(d),a.surface.blit("undefined"!=typeof(S="undefined"!=typeof(c=a.cache).__array?"undefined"!=typeof c.__array[x=d]?c.__array[x]:c.__getitem__(x):c.__getitem__(d)).__array?"undefined"!=
typeof S.__array.image?S.__array.image:S.__getitem__("image"):S.__getitem__("image"),$p.tuple([f,p])),f+="undefined"!=typeof(w="undefined"!=typeof(k=a.cache).__array?"undefined"!=typeof k.__array[W=d]?k.__array[W]:k.__getitem__(W):k.__getitem__(d)).__array?"undefined"!=typeof w.__array.width?w.__array.width:w.__getitem__("width"):w.__getitem__("width");a.message=null;a.messages=$p.list([])}return null},1,[null,null,["self"]]);l.tprint=g;g=$pyjs__bind_method2("update",function(a){(!0===this.__is_instance__?
this:a).tprint();return null},1,[null,null,["self"]]);l.update=g;g=Array($p.object);var M=$p.dict(),Q;for(Q in l)M.__setitem__(Q,l[Q]);return $p._create_class("Text",$p.tuple(g),M)}();k.load_image=function(l,g,M,Q,a,d,c,b){"undefined"==typeof g&&(g=arguments.callee.__args__[3][1]);"undefined"==typeof M&&(M=arguments.callee.__args__[4][1]);"undefined"==typeof Q&&(Q=arguments.callee.__args__[5][1]);"undefined"==typeof a&&(a=arguments.callee.__args__[6][1]);"undefined"==typeof d&&(d=arguments.callee.__args__[7][1]);
"undefined"==typeof c&&(c=arguments.callee.__args__[8][1]);"undefined"==typeof b&&(b=arguments.callee.__args__[9][1]);var e,f,h,s,r,m,n,p,q,K,z,F,x,u,w,t,v,y,A,R,G,B,E,C,I;y=function(a,b){var c,d,e;a=(null===(d=a.get_alpha())||!1===d||0===d||""===d?0:"object"==typeof d?"function"==typeof d.__nonzero__?d.__nonzero__():"function"==typeof d.__len__?0<d.__len__():1:1)?a.convert_alpha():a.convert();if(null===(c=null!==b)||!1===c||0===c||""===c?0:"object"==typeof c?"function"==typeof c.__nonzero__?c.__nonzero__():
"function"==typeof c.__len__?0<c.__len__():1:1){if(null===(e=-1===b)||!1===e||0===e||""===e?0:"object"==typeof e?"function"==typeof e.__nonzero__?e.__nonzero__():"function"==typeof e.__len__?0<e.__len__():1:1)b=a.get_at($p.tuple([0,0]));a.set_colorkey(b,k.engine.RLEACCEL)}return a};y.__name__="convert_image";y.__bind_type__=0;y.__args__=[null,null,["image"],["colorkey"]];if(null===(K=Q)||!1===K||0===K||""===K?0:"object"==typeof K?"function"==typeof K.__nonzero__?K.__nonzero__():"function"==typeof K.__len__?
0<K.__len__():1:1){n=$p.___import___("zipfile","interphase");try{e=$p.___import___("cStringIO","interphase")}catch(D){if(e="undefined"==typeof D.__name__?D.name:D.__name__,$pyjs.__last_exception__={error:D,module:k},e==$p.ImportError.__name__||$p._isinstance(D,$p.ImportError))e=$p.___import___("StringIO","interphase",null,!1);else throw $pyjs.__active_exception_stack__=$pyjs.__last_exception_stack__,$pyjs.__last_exception_stack__=null,D;}(null===(p=$p.isinstance(Q,$p.str))||!1===p||0===p||""===p?
0:"object"==typeof p?"function"==typeof p.__nonzero__?p.__nonzero__():"function"==typeof p.__len__?0<p.__len__():1:1)?(p=(null===(q=M)||!1===q||0===q||""===q?0:"object"==typeof q?"function"==typeof q.__nonzero__?q.__nonzero__():"function"==typeof q.__len__?0<q.__len__():1:1)?k.os.path.join(M,Q):Q,q=n.ZipFile(p),a=e.StringIO(q.open(l).read()),q.close()):a=e.StringIO(Q.open(l).read());e=a;q=l}else(null===(t=a)||!1===t||0===t||""===t?0:"object"==typeof t?"function"==typeof t.__nonzero__?t.__nonzero__():
"function"==typeof t.__len__?0<t.__len__():1:1)?(e=a,q=l):(e=(null===(n=M)||!1===n||0===n||""===n?0:"object"==typeof n?"function"==typeof n.__nonzero__?n.__nonzero__():"function"==typeof n.__len__?0<n.__len__():1:1)?k.os.path.join(M,l):l,q="");try{if(null===(r=1===(A=g)&&null===A?!0:null===A?!1:"object"!=typeof A&&"function"!=typeof A||"function"!=typeof A.__cmp__?1==A:0===A.__cmp__(1))||!1===r||0===r||""===r?0:"object"==typeof r?"function"==typeof r.__nonzero__?r.__nonzero__():"function"==typeof r.__len__?
0<r.__len__():1:1)return u=k.engine.image.load(e,q),u=y(u,d);if(null===(m=1==(1===(f=g)?0:"number"!=typeof f||"number"!=typeof f&&"string"!=typeof f&&"boolean"!=typeof f?$p.cmp(f,1):1==f?0:1>f?-1:1))||!1===m||0===m||""===m?0:"object"==typeof m?"function"==typeof m.__nonzero__?m.__nonzero__():"function"==typeof m.__len__?0<m.__len__():1:1){z=$p.list([]);u=k.engine.image.load(e,q);var J=$p.__ass_unpack(u.get_size(),2,null);w=J[0];R=J[1];w=Math.floor(w/g);B=$p.range(g);"undefined"!=typeof(x=B.__array)?
E=0:(B=B.__iter__(),E="undefined"!=typeof(x=B.__array)?0:"function"==typeof B.$genfunc?1:-1);for(F=0;"undefined"!=typeof(G=E?0<E?B.next(!0,!1):$p.wrapped_next(B):x[F++]);)I=G,C=w*I,v=u.subsurface($p.tuple([C,0,w,R])).copy(),v.set_alpha(u.get_alpha()),v=y(v,d),z.append(v);return z}}catch(H){e="undefined"==typeof H.__name__?H.name:H.__name__;$pyjs.__last_exception__={error:H,module:k};if(e==k.engine.error.__name__||$p._isinstance(H,k.engine.error)){if(null===(h=c)||!1===h||0===h||""===h?0:"object"==
typeof h?"function"==typeof h.__nonzero__?h.__nonzero__():"function"==typeof h.__len__?0<h.__len__():1:1)throw $pyjs.__last_exception__?$pyjs.__last_exception__.error:$p.TypeError("exceptions must be classes, instances, or strings (deprecated), not NoneType");null===(s=b)||!1===s||0===s||""===s||"object"==typeof s&&("function"==typeof s.__nonzero__?s.__nonzero__():"function"==typeof s.__len__&&s.__len__());throw"undefined"==typeof IOError?k.IOError:IOError;}$pyjs.__active_exception_stack__=$pyjs.__last_exception_stack__;
$pyjs.__last_exception_stack__=null;throw H;}return null};k.load_image.__name__="load_image";k.load_image.__bind_type__=0;k.load_image.__args__=[null,null,["filename"],["frames",1],["path","data"],["zipobj",null],["fileobj",null],["colorkey",null],["errorhandle",!0],["errorreport",!0]];return this};
